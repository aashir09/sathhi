"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[9673],{24146:(e,t,s)=>{s.d(t,{A:()=>l});var i=s(34535),a=s(96446),n=s(19252),r=s(70579);const o=(0,i.Ay)(a.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,r.jsx)(o,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(n.A,{maxWidth:"lg",children:t})})}},94786:(e,t,s)=>{s.d(t,{A:()=>a});s(65043);var i=s(70579);const a=e=>{const{title:t}=e;return(0,i.jsx)("div",{className:"spinner-container",children:(0,i.jsx)("div",{className:"loading-spinner"})})}},9673:(e,t,s)=>{s.r(t),s.d(t,{default:()=>he});var i=s(29490),a=s(24146),n=s(34535),r=s(83462),o=s(26600),l=s(17392),d=s(26240),c=s(96446),m=s(68903),h=s(88911),p=s(22698),x=s(85865),u=s(11906),g=s(53193),A=s(67784),j=s(51787),v=s(19252),f=s(12110),y=s(39336),b=s(79650),P=s(71806),S=s(84882),C=s(28076),k=s(10039),N=s(73460),R=s(81045),I=s(69392),w=s(4598),z=s(92598),W=s(63336),O=s(35316),T=s(98533),H=s(29347),M=s(69413),E=s(81673),B=s(51292),q=s(78492),F=s(74605),U=s(14256),D=s(51962),L=s(33639),G=s(74802),$=s(47260),V=s(72819),_=s(26688),Z=s(39155),J=s(44650),X=s.n(J),Y=s(73216),K=s(35475),Q=s(94786),ee=s(54429),te=s(61072),se=s(78602),ie=s(11633),ae=s(65043),ne=s(66360),re=s(47503),oe=(s(92342),s(8740),s(48490)),le=s(70579);const de=(0,n.Ay)(r.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function ce(e){const{children:t,onClose:s,...i}=e;return(0,le.jsxs)(o.A,{sx:{m:0,p:2,fontSize:"18px",fontWeight:"bold"},...i,children:[t,s?(0,le.jsx)(l.A,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:13,top:13,color:e=>e.palette.grey[500]},children:(0,le.jsx)(G.A,{})}):null]})}const me={id:0,firstName:"",middleName:"",lastName:"",email:"",confirmEmail:"",password:"",confirmPassword:"",contactNo:"",gender:"",isReceiveMail:!1,isReceiveNotification:!1};const he=function(){const[e,t]=ae.useState(0),[s,n]=ae.useState(10),[G,J]=(0,ae.useState)(10),[he,pe]=ae.useState(!1),[xe,ue]=ae.useState(!1),[ge,Ae]=(0,ae.useState)(!1),[je,ve]=(0,ae.useState)(!1),[fe,ye]=ae.useState([]),[be,Pe]=ae.useState(me),[Se,Ce]=ae.useState(""),[ke,Ne]=ae.useState(!1),[Re,Ie]=(0,ae.useState)(!1),[we,ze]=(0,ae.useState)(!1),[We,Oe]=(0,ae.useState)(""),[Te,He]=(0,ae.useState)(!1),[Me,Ee]=(0,ae.useState)(""),[Be,qe]=(0,ae.useState)(!1),[Fe,Ue]=(0,ae.useState)(!1);let[De,Le]=(0,ae.useState)("");const Ge=(0,Y.Zp)();let[$e,Ve]=(0,ae.useState)();const[_e,Ze]=(0,ae.useState)([]),[Je,Xe]=(0,ae.useState)(!1),[Ye,Ke]=(0,ae.useState)(!0),[Qe,et]=(0,ae.useState)(!0),[tt,st]=(0,ae.useState)(!0),[it,at]=(0,ae.useState)(!0);let[nt,rt]=(0,ae.useState)();ae.useEffect((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(Ve(e),e)if(1!=e.roleId){let t=e.pagePermissions.findIndex((e=>"Block Users"===e.title));t>=0&&(Ke(e.pagePermissions[t].isReadPermission),et(e.pagePermissions[t].isAddPermission),st(e.pagePermissions[t].isEditPermission),at(e.pagePermissions[t].isDeletePermission),e.pagePermissions[t].isReadPermission&&lt(),ot())}else lt(),ot()}),[]);const ot=async()=>{let e=await fetch("/admin/variable.json"),t=await e.json();rt(t),nt=t},lt=async()=>{await dt(e,s),ue(!1)},dt=async(e,t)=>{try{if(De){const s=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={startIndex:e,fetchRecord:t,searchString:De||""};const n=await ie.A.httpPost("/api/admin/users/getAllUsers",a,s,i);ye(n.recordList),J(n.totalRecords)}else{Ne(!0);const s=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={startIndex:e,fetchRecord:t};const n=await ie.A.httpPost("/api/admin/users/getAllUsers",a,s,i);ye(n.recordList),J(n.totalRecords),n&&200==n.status?ue(!1):401==n.status?(Ge("/admin"),localStorage.clear()):(500==n.status||400==n.status||300==n.status||404==n.status)&&(ue(!1),re.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT})),Ne(!1)}}catch(s){ue(!1),re.oR.error(s,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT}),Ne(!1)}},[ct,mt]=(0,ae.useState)(!1),[ht,pt]=(0,ae.useState)(""),[xt,ut]=(0,ae.useState)(!1),[gt,At]=(0,ae.useState)(""),[jt,vt]=(0,ae.useState)(!1),[ft,yt]=(0,ae.useState)(""),[bt,Pt]=(0,ae.useState)(!1),[St,Ct]=(0,ae.useState)(""),kt=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})"),[Nt,Rt]=(0,ae.useState)(!1),[It,wt]=(0,ae.useState)(""),[zt,Wt]=(0,ae.useState)(!1),[Ot,Tt]=(0,ae.useState)(""),[Ht,Mt]=(0,ae.useState)(!1),[Et,Bt]=(0,ae.useState)(""),qt=new RegExp("^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$"),[Ft,Ut]=(0,ae.useState)(!1),[Dt,Lt]=(0,ae.useState)(""),Gt=e=>{const{name:t,value:s}=e.target;s?(ze(!1),Oe("")):(ze(!0),Oe("Gender is required"))},$t=()=>{Pe(me),ue(!0),ze(!1),Oe(""),Ut(!1),Lt(""),Mt(!1),Bt(""),Wt(!1),Tt(""),Rt(!1),wt(""),Pt(!1),Ct(""),vt(!1),yt(""),ut(!1),At(""),mt(!1),pt(""),He(!1),Ee(""),Ce("")},Vt=()=>{ue(!1)},_t=()=>{Ie(!1)},Zt=e=>{const{name:t,value:s}=e.target;Pe({...be,[t]:s}),ue(!0),!0===Fe&&(He(!1),Ee(""))},Jt=(0,d.A)(),Xt=(e,t,s)=>{Ze((e=>{const i=e.findIndex((e=>e.id===t.id));if(-1!==i)return e.map(((e,t)=>t===i?{...e,[s]:!e[s]}:e));{let i=e.findIndex((e=>e.id===t.parentId));const a=e[i].pages.findIndex((e=>e.id==t.id));if(-1!==a){const t=e[i].pages.map(((e,t)=>t===a?{...e,[s]:!e[s]}:e));return e[i].pages=t,e=[...e]}}return e})),e.target.checked?Ze((e=>{const s=e.findIndex((e=>e.id===t.id));if(-1!==s)return e.map(((e,t)=>t===s?{...e,isSelected:!0}:e));{let s=e.findIndex((e=>e.id===t.parentId));const i=e[s].pages.findIndex((e=>e.id==t.id));if(-1!==i){const t=e[s].pages.map(((e,t)=>t===i?{...e,isSelected:!0}:e));return e[s].pages=t,e}}return e})):Ze((e=>{const s=e.findIndex((e=>e.id===t.id));if(-1!==s)return e.map(((e,t)=>t===s?{...e,isSelected:!!(e.isReadPermission||e.isAddPermission||e.isEditPermission||e.isDeletePermission)}:e));{let s=e.findIndex((e=>e.id===t.parentId));const i=e[s].pages.findIndex((e=>e.id==t.id));if(-1!==i){const t=e[s].pages.map(((e,t)=>t===i?{...e,isSelected:!!(e.isReadPermission||e.isAddPermission||e.isEditPermission||e.isDeletePermission)}:e));return e[s].pages=t,e}}return e}))},Yt=()=>{Xe(!1)};return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(re.N9,{style:{top:"10%",left:"80%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,le.jsx)(i.mg,{children:(0,le.jsx)("title",{children:"User List"})}),(0,le.jsx)(a.A,{children:(0,le.jsx)(c.A,{p:1,children:(0,le.jsxs)(m.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,le.jsx)(m.Ay,{item:!0,children:(0,le.jsx)(h.A,{alignItems:"left",justifyContent:"space-between",children:(0,le.jsxs)(p.A,{"aria-label":"breadcrumb",children:[(0,le.jsx)(K.N_,{to:"/admin",style:{display:"flex",color:"black"},children:(0,le.jsx)(L.A,{})}),(0,le.jsx)(x.A,{variant:"subtitle2",color:"inherit",style:{fontWeight:"bold"},children:"Users"})]})})}),(0,le.jsx)(m.Ay,{item:!0,children:(0,le.jsxs)(m.Ay,{container:!0,spacing:1.5,children:[(0,le.jsx)(m.Ay,{item:!0,children:Qe?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(u.A,{className:"buttonLarge",sx:{mt:{xs:0,md:0,padding:"8.3px",top:"3px"},display:"flex",alignItems:"center"},variant:"contained",onClick:$t,size:"small",children:[(0,le.jsx)(Z.A,{fontSize:"small"})," Create Users"]}),(0,le.jsx)(u.A,{className:"button",sx:{mt:{xs:0,md:0,padding:"8.3px",top:"3px"},display:"flex",alignItems:"center"},variant:"contained",onClick:$t,size:"small",children:(0,le.jsx)(Z.A,{fontSize:"small"})})]}):(0,le.jsx)(le.Fragment,{})}),(0,le.jsx)(m.Ay,{item:!0,children:(0,le.jsx)(g.A,{sx:{mt:{xs:.3,md:.3,lg:.3,sm:.3}},children:(0,le.jsx)(A.A,{size:"small",name:"searchString",value:De,onChange:t=>(t=>{Le(t.target.value),De=t.target.value,dt(e,s)})(t),id:"outlined-basic",label:"Search",variant:"outlined",InputProps:{startAdornment:(0,le.jsx)(j.A,{position:"start",children:(0,le.jsx)(ne.A,{})})}})})})]})})]})})}),(0,le.jsx)(v.A,{maxWidth:"lg",children:(0,le.jsx)(m.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,le.jsx)(m.Ay,{item:!0,xs:12,children:(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(f.A,{className:"Usercard",children:(0,le.jsx)("div",{children:ke?(0,le.jsx)(Q.A,{title:"Loading..."}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(y.A,{}),fe&&fe.length>0?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(b.A,{className:"UsertableContainer",children:(0,le.jsxs)(P.A,{stickyHeader:!0,children:[(0,le.jsx)(S.A,{children:(0,le.jsxs)(C.A,{children:[(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Sr. NO"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Name"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Contact No"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Email"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Gender"})}),(0,le.jsx)(k.A,{align:"right",children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Action"})})]})}),(0,le.jsx)(N.A,{children:fe.map(((t,i)=>(0,le.jsxs)(C.A,{hover:!0,children:[(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e*s+i+1})}),(0,le.jsx)(k.A,{children:(0,le.jsxs)(h.A,{direction:"row",alignItems:"center",spacing:2,children:[t.image?(0,le.jsx)(R.A,{src:t.image}):(0,le.jsx)(R.A,{children:t.firstName?t.firstName[0]:null}),(0,le.jsxs)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:[t.firstName," ",t.middleName," ",t.lastName]})]})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.contactNo})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.email})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.gender})}),(0,le.jsx)(k.A,{align:"right",children:tt?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(I.A,{title:0===t.isActive?"Inactive":"Active",arrow:!0,children:(0,le.jsx)(w.A,{disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),checked:0!==t.isActive,onClick:e=>(async e=>{Pe({id:e}),Ie(!0)})(t.id),inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(I.A,{title:"Edit",arrow:!0,children:(0,le.jsx)(l.A,{sx:{"&:hover":{background:Jt.colors.primary.lighter},color:Jt.palette.primary.main,height:"40px"},color:"inherit",size:"small",disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:e=>((e,t,s,i,a,n,r,o,l,d,c)=>{let m={id:e,image:t,firstName:s,middleName:i,lastName:a,email:n,confirmEmail:r,contactNo:o,gender:l,isReceiveMail:!!d,isReceiveNotification:!!c};Ce(t||""),Pe(m),ue(!0),ze(!1),Oe(""),Ut(!1),Lt(""),Mt(!1),Bt(""),Wt(!1),Tt(""),Rt(!1),wt(""),Pt(!1),Ct(""),vt(!1),yt(""),ut(!1),At(""),mt(!1),pt(""),He(!1),Ee("")})(t.id,t.image,t.firstName,t.middleName,t.lastName,t.email,t.email,t.contactNo,t.gender,t.isReceiveMail,t.isReceiveNotification),children:(0,le.jsx)(_.A,{fontSize:"small"})})}),(0,le.jsx)(I.A,{title:"Page Permission",arrow:!0,children:(0,le.jsx)(l.A,{sx:{"&:hover":{background:Jt.colors.primary.lighter},color:Jt.palette.primary.main,height:"40px"},color:"inherit",size:"small",disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:e=>(async e=>{try{const t=localStorage.getItem("SessionToken"),s=localStorage.getItem("RefreshToken"),i=await ie.A.httpPost("/api/admin/userPages/getUserPages",{userId:e},t,s);i&&200==i.status&&(Ze(i.recordList),Xe(!0))}catch(t){ue(!1),re.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT}),Ne(!1)}})(t.id),children:(0,le.jsx)(oe.A,{fontSize:"small"})})})]}):(0,le.jsx)(le.Fragment,{})})]},i)))})]})}),(0,le.jsx)(c.A,{p:2,children:(0,le.jsx)(z.A,{component:"div",count:G,onPageChange:(e,i)=>{t(i),dt(i*s,s)},onRowsPerPageChange:e=>{n(parseInt(e.target.value)),t(0),dt(0,parseInt(e.target.value))},page:e,rowsPerPage:s,rowsPerPageOptions:[10,20,30,40]})})]}):(0,le.jsx)(W.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none"},className:"Usercard",children:(0,le.jsx)(x.A,{variant:"h5",paragraph:!0,children:"Data not Found"})}),(0,le.jsx)("div",{children:(0,le.jsxs)(r.A,{open:Re,onClose:_t,fullWidth:!0,maxWidth:"xs",children:[(0,le.jsx)(o.A,{sx:{m:0,p:2,fontSize:"20px",fontWeight:"bolder"},children:0===be.status?"Inactive":"Active"}),(0,le.jsx)(O.A,{children:(0,le.jsx)(T.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em"},children:0===be.status?"Are you sure you want to Active?":"Are you sure you want to Inactive?"})}),(0,le.jsxs)(H.A,{children:[(0,le.jsx)(u.A,{onClick:_t,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,le.jsx)(u.A,{disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:async()=>{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken");let i={id:be.id};await ie.A.httpPost("/api/admin/users/activeInactiveUsers",i,e,t);Ie(!1),dt(0,s)},variant:"outlined",style:{marginRight:"10px"},children:"Yes"})]})]})}),(0,le.jsx)("div",{children:(0,le.jsxs)(de,{open:xe,onClose:Vt,maxWidth:"md",children:[(0,le.jsx)(ce,{id:"customized-dialog-title",onClose:Vt,children:be.id?"Edit Users":"Add Users"}),(0,le.jsx)(O.A,{dividers:!0,children:(0,le.jsxs)(ee.A,{children:[(0,le.jsxs)(M.A,{style:{alignItems:"center",marginBottom:"10px"},children:[(0,le.jsx)("input",{style:{display:"none"},id:"icon-button-file",type:"file",accept:"image/*",name:"image",onChange:e=>{(e=>{const t=e.target.files[0],s=new FileReader;s.onload=()=>{Ce(s.result.toString())},s.readAsDataURL(t)})(e),(e=>{const{name:t,value:s}=e.target;Pe({...be,[t]:s})})(e)},className:"upload-button"}),(0,le.jsx)("label",{htmlFor:"icon-button-file",children:Se?(0,le.jsx)("img",{src:Se,alt:"userProfile",style:{height:"100px",width:"100px"}}):(0,le.jsx)("img",{src:"/userLogo.png",alt:"userProfile",style:{height:"100px",width:"100px"}})})]}),(0,le.jsxs)(te.A,{children:[(0,le.jsxs)(se.A,{sm:!0,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Firstname",type:"text",variant:"outlined",name:"firstName",value:be.firstName,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?X().isAlpha(s)?(mt(!1),pt("")):(mt(!0),pt("Only alphabet")):(mt(!0),pt("Firstname is required"))})(e),Zt(e)},required:!0}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:ct&&ht})]}),(0,le.jsxs)(se.A,{sm:!0,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Middlename",type:"text",variant:"outlined",name:"middleName",value:be.middleName,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?X().isAlpha(s)?(ut(!1),At("")):(ut(!0),At("Only alphabet")):(ut(!0),At("Middlename is required"))})(e),Zt(e)},required:!0}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:xt&&gt})]}),(0,le.jsxs)(se.A,{sm:!0,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Lastname",type:"text",variant:"outlined",name:"lastName",value:be.lastName,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?X().isAlpha(s)?(vt(!1),yt("")):(vt(!0),yt(" Only alphabet")):(vt(!0),yt("Lastname is required"))})(e),Zt(e)},required:!0}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:jt&&ft})]})]}),(0,le.jsxs)(te.A,{children:[(0,le.jsxs)(se.A,{xs:12,md:6,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Email",type:"text",variant:"outlined",name:"email",value:be.email,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?X().isEmail(s)?(Pt(!1),Ct("")):(Pt(!0),Ct("Invalid Email")):(Pt(!0),Ct("Email is required"))})(e),Zt(e)},required:!0}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:bt&&St})]}),(0,le.jsxs)(se.A,{xs:12,md:6,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Confirm Email",type:"text",variant:"outlined",name:"confirmEmail",value:be.confirmEmail,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?be.email!==s?(Wt(!0),Tt("Email and confirm email must matched")):(Wt(!1),Tt("")):(Wt(!0),Tt("Confirm email is required"))})(e),Zt(e)},required:!0}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:zt&&Ot})]})]}),!be.id&&(0,le.jsx)(le.Fragment,{children:(0,le.jsxs)(te.A,{children:[(0,le.jsxs)(se.A,{xs:12,md:6,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Password",type:!0===ge?"text":"password",variant:"outlined",name:"password",value:be.password,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?kt.test(e.target.value)?(Rt(!1),wt("")):(Rt(!0),wt("The password must be more than 8 characters and contain both letters and numbers")):(Rt(!0),wt("Password is required"))})(e),Zt(e)},required:!0,InputProps:{endAdornment:(0,le.jsx)(j.A,{position:"start",onClick:()=>Ae(!ge),children:!0===ge?(0,le.jsx)($.A,{}):(0,le.jsx)(V.A,{})})}}),(0,le.jsx)(E.A,{style:{color:"red",height:"32px",width:"322px"},children:Nt&&It})]}),(0,le.jsxs)(se.A,{xs:12,md:6,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",label:"Confirm Password",type:!0===je?"text":"password",variant:"outlined",name:"confirmPassword",value:be.confirmPassword,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?be.password!==s?(Mt(!0),Bt("Password and confirm password must matched")):(Mt(!1),Bt("")):(Mt(!0),Bt("Confirm password is required"))})(e),Zt(e)},required:!0,InputProps:{endAdornment:(0,le.jsx)(j.A,{position:"start",onClick:()=>ve(!je),children:!0===je?(0,le.jsx)($.A,{}):(0,le.jsx)(V.A,{})})}}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:Ht&&Et})]})]})}),(0,le.jsxs)(te.A,{children:[(0,le.jsxs)(se.A,{xs:12,md:6,children:[(0,le.jsx)(A.A,{fullWidth:!0,margin:"dense",id:"name",label:"Contact No",type:"text",variant:"outlined",name:"contactNo",value:be.contactNo,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?qt.test(e.target.value)?(Ut(!1),Lt("")):(Ut(!0),Lt("Contact No must be 10 digit")):(Ut(!0),Lt("Contact No is required"))})(e),Zt(e)},required:!0}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:Ft&&Dt})]}),(0,le.jsx)(se.A,{xs:12,md:6,children:(0,le.jsxs)(g.A,{style:{verticalAlign:"sub"},children:[(0,le.jsx)(B.A,{id:"demo-radio-buttons-group-label",children:"Gender"}),(0,le.jsxs)(q.A,{row:!0,"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",children:[(0,le.jsx)(F.A,{name:"gender",value:"Female",checked:"Female"===be.gender,onChange:e=>{Gt(e),Zt(e)},control:(0,le.jsx)(U.A,{}),label:"Female"}),(0,le.jsx)(F.A,{name:"gender",value:"Male",checked:"Male"===be.gender,onChange:e=>{Gt(e),Zt(e)},control:(0,le.jsx)(U.A,{}),label:"Male"})]}),(0,le.jsx)(E.A,{style:{color:"red",height:"22px"},children:we&&We})]})})]}),(0,le.jsxs)(te.A,{children:[(0,le.jsxs)(se.A,{xs:12,md:6,children:["Receive Email",(0,le.jsx)(w.A,{checked:!!be.isReceiveMail,onClick:e=>(e=>{const{name:t,checked:s}=e.target;Pe({...be,isReceiveMail:s})})(e),inputProps:{"aria-label":"controlled"}})]}),(0,le.jsxs)(se.A,{xs:12,md:6,children:["Receive Notification",(0,le.jsx)(w.A,{checked:!!be.isReceiveNotification,onClick:e=>(e=>{const{name:t,checked:s}=e.target;Pe({...be,isReceiveNotification:s})})(e),inputProps:{"aria-label":"controlled"}})]})]})]})}),(0,le.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",p:"8px"},children:[(0,le.jsx)(E.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px"},children:Te&&Me}),(0,le.jsxs)(x.A,{children:[(0,le.jsx)(u.A,{disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:Vt,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,le.jsx)(u.A,{disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:async i=>{var a=(e=>{e.preventDefault();var t=!0;return be.firstName?X().isAlpha(be.firstName)?(mt(!1),pt("")):(mt(!0),pt("Only alphabet"),t=!1):(mt(!0),pt("Firstname is required"),t=!1),be.middleName?X().isAlpha(be.middleName)?(ut(!1),At("")):(ut(!0),At("Only alphabet"),t=!1):(ut(!0),At("Middlename is required"),t=!1),be.lastName?X().isAlpha(be.lastName)?(vt(!1),yt("")):(vt(!0),yt(" Only alphabet"),t=!1):(vt(!0),yt("Lastname is required"),t=!1),be.email?X().isEmail(be.email)?(Pt(!1),Ct("")):(Pt(!0),Ct("Invalid email"),t=!1):(Pt(!0),Ct("Email is required"),t=!1),be.id||(be.confirmEmail?be.email!==be.confirmEmail?(Wt(!0),Tt("Email and confirm email must matched"),t=!1):(Wt(!1),Tt("")):(Wt(!0),Tt("Confirm Email is required"),t=!1),be.password&&kt.test(be.password)?(Rt(!1),wt("")):(Rt(!0),wt("Password is required"),t=!1),be.confirmPassword?be.password!==be.confirmPassword?(Mt(!0),Bt("Password and confirm password must matched"),t=!1):(Mt(!1),Bt("")):(Mt(!0),Bt("Confirm password is required"),t=!1)),be.contactNo?qt.test(be.contactNo)?(Ut(!1),Lt("")):(Ut(!0),Lt("Contact No must be 10 digit"),t=!1):(Ut(!0),Lt("Contact No is required"),t=!1),be.gender?(ze(!1),Oe("")):(ze(!0),Oe("Gender is required "),t=!1),t})(i);if(a)try{if(be.id){const i=localStorage.getItem("SessionToken"),n=localStorage.getItem("RefreshToken");let r={id:be.id,image:Se||null,firstName:be.firstName,middleName:be.middleName,lastName:be.lastName,email:be.email,contactNo:be.contactNo,gender:be.gender,isReceiveNotification:be.isReceiveNotification,isReceiveMail:be.isReceiveMail};const o=await ie.A.httpPost("/api/admin/users/updateUser",r,i,n);o&&200==o.status?(t(0),dt(e*s,s),ue(!1)):401==o.status?(Ge("/admin"),localStorage.clear()):400==o.status?(console.log(o),(a=!1)&&Fe||(He(!0),Ee(o.message),Ue(!0))):(500==o.status||300==o.status||404==o.status)&&(ue(!1),re.oR.error(o.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT}))}else{const e=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");Se&&(be.image=Se);const n=await ie.A.httpPost("/api/admin/users/insertUser",be,e,i);n&&200==n.status?(dt(0,s),t(0),ue(!1)):401==n.status?(Ge("/admin"),localStorage.clear()):400==n.status?(a=!1)&&Fe||(He(!0),Ee(n.message),Ue(!0)):(500==n.status||300==n.status||404==n.status)&&(ue(!1),re.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT}))}}catch(n){ue(!1),re.oR.error(n,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT})}},variant:"outlined",style:{marginRight:"10px"},children:"Save"})]})]})]})}),(0,le.jsx)("div",{children:(0,le.jsxs)(de,{open:Je,onClose:Yt,maxWidth:"md",children:[(0,le.jsx)(ce,{id:"customized-dialog-title",onClose:Yt,children:"Page Permission"}),(0,le.jsx)(O.A,{dividers:!0,children:(0,le.jsx)(b.A,{className:"UsertableContainer",children:(0,le.jsxs)(P.A,{stickyHeader:!0,children:[(0,le.jsx)(S.A,{children:(0,le.jsxs)(C.A,{children:[(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Page"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Read Permission"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Write Permission"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Edit Permission"})}),(0,le.jsx)(k.A,{children:(0,le.jsx)(x.A,{noWrap:!0,style:{fontSize:"13px",fontWeight:"bold",marginBottom:"none"},children:"Delete Permission"})})]})}),(0,le.jsx)(N.A,{children:_e&&_e.length>0&&_e.map(((e,t)=>(0,le.jsxs)(ae.Fragment,{children:[(0,le.jsxs)(C.A,{hover:!0,children:[(0,le.jsx)(k.A,{children:(0,le.jsxs)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:["link"===e.type&&(0,le.jsx)(D.A,{checked:e.isSelected,onChange:t=>{Xt(t,e,"isSelected"),e.isSelected=!e.isSelected},inputProps:{"aria-label":"controlled"}}),e.title]})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isReadPermission,onChange:t=>{Xt(t,e,"isReadPermission"),e.isReadPermission=!e.isReadPermission},inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isAddPermission,onChange:t=>{Xt(t,e,"isAddPermission"),e.isAddPermission=!e.isAddPermission},inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isEditPermission,onChange:t=>{Xt(t,e,"isEditPermission"),e.isEditPermission=!e.isEditPermission},inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isDeletePermission,onChange:t=>{Xt(t,e,"isDeletePermission"),e.isDeletePermission=!e.isDeletePermission},inputProps:{"aria-label":"controlled"}})})]}),e.pages&&e.pages.length>0&&e.pages.map(((e,t)=>(0,le.jsxs)(C.A,{hover:!0,children:[(0,le.jsx)(k.A,{children:(0,le.jsxs)(x.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:["link"===e.type&&(0,le.jsx)(D.A,{checked:e.isSelected,onChange:t=>{Xt(t,e,"isSelected"),e.isSelected=!e.isSelected},inputProps:{"aria-label":"controlled"}}),e.title]})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isReadPermission,onChange:t=>{Xt(t,e,"isReadPermission"),e.isReadPermission=!e.isReadPermission},inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isAddPermission,onChange:t=>{Xt(t,e,"isAddPermission"),e.isAddPermission=!e.isAddPermission},inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isEditPermission,onChange:t=>{Xt(t,e,"isEditPermission"),e.isEditPermission=!e.isEditPermission},inputProps:{"aria-label":"controlled"}})}),(0,le.jsx)(k.A,{children:"link"===e.type&&(0,le.jsx)(D.A,{checked:e.isDeletePermission,onChange:t=>{Xt(t,e,"isDeletePermission"),e.isDeletePermission=!e.isDeletePermission},inputProps:{"aria-label":"controlled"}})})]},t)))]},t)))})]})})}),(0,le.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",p:"8px"},children:[(0,le.jsx)(E.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px"}}),(0,le.jsxs)(x.A,{children:[(0,le.jsx)(u.A,{disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:Yt,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,le.jsx)(u.A,{disabled:"demo@admin.com"===(null===$e||void 0===$e?void 0:$e.email),onClick:async e=>{e.preventDefault();try{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken"),s=_e.filter((e=>1==e.isSelected));for(let n=0;n<_e.length;n++){let e=_e[n].pages.filter((e=>1==e.isSelected));for(let t of e)s.push(t)}let i={userId:_e[0].userId,userPages:s};const a=await ie.A.httpPost("/api/admin/userPages/insertUpdateUserPages",i,e,t);a&&200==a.status&&(Ze(a.recordList),Yt())}catch(t){ue(!1),re.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:re.oR.POSITION.TOP_RIGHT}),Ne(!1)}},variant:"outlined",style:{marginRight:"10px"},children:"Save"})]})]})]})})]})})})})})})})]})}},39155:(e,t,s)=>{var i=s(24994);t.A=void 0;var a=i(s(40039)),n=s(70579),r=(0,a.default)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");t.A=r},48490:(e,t,s)=>{var i=s(24994);t.A=void 0;var a=i(s(40039)),n=s(70579),r=(0,a.default)([(0,n.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h6.26c-.79-1.13-1.26-2.51-1.26-4 0-3.87 3.13-7 7-7zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6z"},"0"),(0,n.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 2c.83 0 1.5.67 1.5 1.5S18.83 18 18 18s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm0 6c-1.03 0-1.94-.52-2.48-1.32.73-.42 1.57-.68 2.48-.68s1.75.26 2.48.68c-.54.8-1.45 1.32-2.48 1.32z"},"1")],"LockPerson");t.A=r},66360:(e,t,s)=>{var i=s(24994);t.A=void 0;var a=i(s(40039)),n=s(70579),r=(0,a.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=r},51962:(e,t,s)=>{s.d(t,{A:()=>R});var i=s(98587),a=s(58168),n=s(65043),r=s(69292),o=s(98610),l=s(67266),d=s(33064),c=s(66734),m=s(70579);const h=(0,c.A)((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,c.A)((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),x=(0,c.A)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var u=s(6803),g=s(98206),A=s(34535),j=s(61475),v=s(92532),f=s(72372);function y(e){return(0,f.Ay)("MuiCheckbox",e)}const b=(0,v.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),P=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],S=(0,A.Ay)(d.A,{shouldForwardProp:e=>(0,j.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.indeterminate&&t.indeterminate,t[`size${(0,u.A)(s.size)}`],"default"!==s.color&&t[`color${(0,u.A)(s.color)}`]]}})((e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!s.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===s.color?t.vars.palette.action.activeChannel:t.vars.palette[s.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,l.X4)("default"===s.color?t.palette.action.active:t.palette[s.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==s.color&&{[`&.${b.checked}, &.${b.indeterminate}`]:{color:(t.vars||t).palette[s.color].main},[`&.${b.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),C=(0,m.jsx)(p,{}),k=(0,m.jsx)(h,{}),N=(0,m.jsx)(x,{}),R=n.forwardRef((function(e,t){var s,l;const d=(0,g.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=C,color:h="primary",icon:p=k,indeterminate:x=!1,indeterminateIcon:A=N,inputProps:j,size:v="medium",className:f}=d,b=(0,i.A)(d,P),R=x?A:p,I=x?A:c,w=(0,a.A)({},d,{color:h,indeterminate:x,size:v}),z=(e=>{const{classes:t,indeterminate:s,color:i,size:n}=e,r={root:["root",s&&"indeterminate",`color${(0,u.A)(i)}`,`size${(0,u.A)(n)}`]},l=(0,o.A)(r,y,t);return(0,a.A)({},t,l)})(w);return(0,m.jsx)(S,(0,a.A)({type:"checkbox",inputProps:(0,a.A)({"data-indeterminate":x},j),icon:n.cloneElement(R,{fontSize:null!=(s=R.props.fontSize)?s:v}),checkedIcon:n.cloneElement(I,{fontSize:null!=(l=I.props.fontSize)?l:v}),ownerState:w,ref:t,className:(0,r.A)(z.root,f)},b,{classes:z}))}))},84882:(e,t,s)=>{s.d(t,{A:()=>v});var i=s(58168),a=s(98587),n=s(65043),r=s(69292),o=s(98610),l=s(21573),d=s(98206),c=s(34535),m=s(92532),h=s(72372);function p(e){return(0,h.Ay)("MuiTableHead",e)}(0,m.A)("MuiTableHead",["root"]);var x=s(70579);const u=["className","component"],g=(0,c.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},j="thead",v=n.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiTableHead"}),{className:n,component:c=j}=s,m=(0,a.A)(s,u),h=(0,i.A)({},s,{component:c}),v=(e=>{const{classes:t}=e;return(0,o.A)({root:["root"]},p,t)})(h);return(0,x.jsx)(l.A.Provider,{value:A,children:(0,x.jsx)(g,(0,i.A)({as:c,className:(0,r.A)(v.root,n),ref:t,role:c===j?null:"rowgroup",ownerState:h},m))})}))},71806:(e,t,s)=>{s.d(t,{A:()=>j});var i=s(98587),a=s(58168),n=s(65043),r=s(69292),o=s(98610),l=s(41009),d=s(98206),c=s(34535),m=s(92532),h=s(72372);function p(e){return(0,h.Ay)("MuiTable",e)}(0,m.A)("MuiTable",["root","stickyHeader"]);var x=s(70579);const u=["className","component","padding","size","stickyHeader"],g=(0,c.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,a.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},s.stickyHeader&&{borderCollapse:"separate"})})),A="table",j=n.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiTable"}),{className:c,component:m=A,padding:h="normal",size:j="medium",stickyHeader:v=!1}=s,f=(0,i.A)(s,u),y=(0,a.A)({},s,{component:m,padding:h,size:j,stickyHeader:v}),b=(e=>{const{classes:t,stickyHeader:s}=e,i={root:["root",s&&"stickyHeader"]};return(0,o.A)(i,p,t)})(y),P=n.useMemo((()=>({padding:h,size:j,stickyHeader:v})),[h,j,v]);return(0,x.jsx)(l.A.Provider,{value:P,children:(0,x.jsx)(g,(0,a.A)({as:m,role:m===A?null:"table",ref:t,className:(0,r.A)(b.root,c),ownerState:y},f))})}))},8740:()=>{}}]);
//# sourceMappingURL=9673.00b0f10a.chunk.js.map