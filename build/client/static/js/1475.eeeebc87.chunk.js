"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[1475],{1475:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ie});var a=s(34535),o=s(96446),i=s(12110),l=s(26494),n=s(85865),r=s(67784),d=s(81673),c=s(51787),g=s(17392),m=s(11906),u=s(88911),p=s(88446),x=s(51292),h=s(78492),y=s(74605),f=s(14256),S=s(18356),A=s(69392),j=s(53193),b=s(93088),v=s(91449),I=s(51962),C=s(81637),F=(s(38421),s(73216)),P=s(35475),O=s(53519),T=s(61072),w=s(78602),R=s(54429),k=s(65043),E=s(11633),D=s(44650),L=s.n(D),N=s(47260),H=s(24914),W=s(72819),B=s(47503),_=(s(92342),s(28957),s(84210)),M=s(29490),z=s(70579);const U=e=>{const{title:t}=e;return(0,z.jsx)("div",{className:"login-container",children:(0,z.jsx)("div",{className:"loading-login-spinner"})})};var Y=s(93245),q=s(76839),Q=s(25078),G=s(12299),J=s(98348),V=s(19778),Z=s(85502);const K=(0,a.Ay)(o.A)((()=>"\n    overflow: auto;\n    flex: 1;\n    overflow-x: hidden;\n    align-items: center;\n")),X=["MYSQL Configuration","Setup Database","Setup Complete"],$={email:"",password:""},ee={email:""},te={password:""},se={twoFactorCode:""},ae={MYSQL_HOST:"",MYSQL_DATABASE:"matrimony_app",MYSQL_USER:"",MYSQL_PASSWORD:"",MYSQL_PORT:"",password:"",username:"matrimony_user"},oe={heading4:"text-base text-ct-blue-600 font-medium border-b mb-2",orderedList:"space-y-1 text-sm list-decimal"};const ie=function(){const[e,t]=k.useState($),[s,a]=(0,k.useState)(!1),[D,ie]=(0,k.useState)(""),[le,ne]=(0,k.useState)(!1),[re,de]=(0,k.useState)(""),[ce,ge]=(0,k.useState)(!1),[me,ue]=(0,k.useState)(!1),pe=(0,F.Zp)(),[xe,he]=(0,k.useState)(!0),[ye,fe]=k.useState(ee),[Se,Ae]=(0,k.useState)(!1),[je,be]=(0,k.useState)(""),[ve,Ie]=(0,k.useState)(!1),[Ce,Fe]=k.useState(te),[Pe,Oe]=(0,k.useState)(!1),[Te,we]=(0,k.useState)(""),[Re,ke]=(0,k.useState)(!1),[Ee,De]=(0,k.useState)(!1),[Le,Ne]=(0,k.useState)(!1),[He,We]=(0,k.useState)(!1),[Be,_e]=(0,k.useState)(!1),[Me,ze]=(0,k.useState)(!1),[Ue,Ye]=(0,k.useState)(!1),[qe,Qe]=(0,k.useState)(!1),[Ge,Je]=(0,k.useState)(""),[Ve,Ze]=(0,k.useState)(!1),[Ke,Xe]=k.useState(ae),[$e,et]=(0,k.useState)(""),[tt,st]=(0,k.useState)(!1),[at,ot]=(0,k.useState)(""),[it,lt]=k.useState(se),[nt,rt]=(0,k.useState)(),[dt,ct]=(0,k.useState)(),[gt,mt]=(0,k.useState)(),[ut,pt]=(0,k.useState)(),[xt,ht]=(0,k.useState)(),[yt,ft]=(0,k.useState)(""),[St,At]=(0,k.useState)(""),[jt,bt]=(0,k.useState)(!1),[vt,It]=(0,k.useState)(null),[Ct,Ft]=(0,k.useState)(!1),[Pt,Ot]=(0,k.useState)(!1),[Tt,wt]=(0,k.useState)(!1),[Rt,kt]=(0,k.useState)(!1),[Et,Dt]=(0,k.useState)("creating"),[Lt,Nt]=(0,k.useState)("creating"),[Ht,Wt]=(0,k.useState)("creating");let[Bt,_t]=(0,k.useState)(!1);const[Mt,zt]=(0,k.useState)("false"),[Ut,Yt]=(0,k.useState)(!1),[qt,Qt]=(0,k.useState)(!1),[Gt,Jt]=(0,k.useState)(!1),[Vt,Zt]=(0,k.useState)(!1),[Kt,Xt]=(0,k.useState)(!1),[$t,es]=(0,k.useState)(!1),[ts,ss]=(0,k.useState)(!1);let[as,os]=(0,k.useState)(!1),[is,ls]=(0,k.useState)([]);const[ns,rs]=(0,k.useState)(!1),[ds,cs]=(0,k.useState)(!0),[gs,ms]=(0,k.useState)(""),[us,ps]=(0,k.useState)(""),xs=s=>{const{name:a,value:o}=s.target;t({...e,[a]:o})},hs=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})");(0,k.useEffect)((()=>{bs()}),[]);const ys=async()=>{try{const e=localStorage.getItem("SessionToken"),t=localStorage.getItem("RefreshToken"),s=sessionStorage.getItem("fcmToken");await E.A.httpPost("/api/admin/users/updateFCMToken",{fcmToken:s},e,t)}catch(e){B.oR.error(e.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}},fs=e=>{const{name:t,value:s}=e.target;s?(st(!1),ot("")):(st(!0),ot("Email is Required"))},Ss=e=>{const{name:t,value:s}=e.target;lt({...it,[t]:s})},As=async e=>{e.preventDefault();try{const e=dt,t=await E.A.httpPost("/api/admin/users/validateOTP",{token:it.twoFactorCode},e,nt);if(200===t.status){localStorage.setItem("RefreshToken",nt),localStorage.setItem("SessionToken",dt),localStorage.setItem("UserId",gt),localStorage.setItem("Credentials",JSON.stringify(ut)),localStorage.setItem("isFirstLogin",JSON.stringify(!1)),pe("/admin/dashboard"),ys();const e=dt;let t=(await E.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},e,nt)).recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",t)}else t&&401===t.status?B.oR.error("Invalid Code",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT}):(500==t.status||400==t.status||300==t.status||404==t.status)&&B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),B.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},js=e=>{zt(e.target.value),It(null)},bs=async()=>{try{const e=await E.A.httpPost("/api/admin/configuration/getConfiguration",{});e&&200==e.status?(Ze(e.recordList[0].isTakeHostDetail),e.recordList[0].isTakeHostDetail&&(ze(!0),he(!1),Fs(0)),Qe(!0),ue(!1)):(500==e.status||400==e.status||300==e.status||404==e.status)&&B.oR.error(e.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(e){ue(!1),ze(!0),he(!1),Qe(!1),Ye(!0),B.oR.error(e,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},vs=e=>{const{name:t,value:s}=e.target;Xe({...Ke,[t]:s}),ue(!1),bt(!1)},Is=async e=>{if(Ft(!1),vt||"false"===Mt||es(!0),Ke.MYSQL_DATABASE){Fs(2),kt(!0),Dt("creating"),es(!1),ss(!1),ue(!0),e.preventDefault();let t={version:Mt?vt:null,MYSQL_DATABASE:Ke.MYSQL_DATABASE,isCreateDatabaseUser:ns,username:Ke.username,password:Ke.password};const s=await E.A.httpPost("/api/admin/configuration/databaseConfiguration",t);if(200===s.status){if(ms(s.recordList[0].email),ps("admin1234"),Dt("created"),Pt){_t(!0),Bt=!0;let e={version:vt};const t=await E.A.httpPost("/api/admin/configuration/installMasterData",e);t&&200==t.status&&(_t(!0),Bt=!0,Nt("created"))}if(Tt){let e={version:vt};const t=await E.A.httpPost("/api/admin/configuration/installSampleData",e);t&&200==t.status&&(os(!0),as=!0,Wt("created"))}Pt||Tt?(Pt&&1==Bt&&Ft(!0),Tt&&1==as&&Ft(!0)):Ft(!0),Ze(!1),bt(!0),ue(!1)}else s&&401==s.status?(Dt("Error"),Fs(1),B.oR.error("Invalid Code",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})):(500==s.status||400==s.status||300==s.status||404==s.status)&&(Dt("Error"),B.oR.error(s.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT}))}else ss(!0)},[Cs,Fs]=k.useState(0),[Ps,Os]=k.useState(new Set),Ts=e=>Ps.has(e),ws=e=>{Ot(e.target.checked)},Rs=e=>{wt(e.target.checked)};return(0,z.jsxs)("div",{children:[(0,z.jsx)(B.N9,{position:"top-right",autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,z.jsxs)(K,{children:[(0,z.jsx)(M.mg,{children:(0,z.jsx)("title",{children:"Matrimony"})}),(0,z.jsxs)(O.A,{children:[!Me&&(0,z.jsx)(T.A,{className:"d-flex justify-content-center align-items-center",style:{position:"fixed",left:0,top:0,width:"100%",height:"100%"},children:(0,z.jsxs)(w.A,{md:8,lg:6,xs:12,style:{maxWidth:"500px"},children:[(0,z.jsx)("div",{style:{height:"72px"},children:(0,z.jsx)(_.A,{})}),(0,z.jsx)(i.A,{style:{borderRadius:"10px"},children:(0,z.jsxs)(l.A,{style:{padding:"24px"},children:[xe&&(0,z.jsxs)(R.A,{onSubmit:e=>{e.preventDefault()},children:[(0,z.jsx)(n.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Login"}),(0,z.jsx)(r.A,{required:!0,type:"email",sx:{width:"100%",mt:3},name:"email",label:"Email",autoFocus:!0,value:e.email,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?(a(!1),ie("")):(a(!0),ie("Email is Required"))})(e),xs(e)}}),(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:s&&D}),(0,z.jsx)(r.A,{required:!0,sx:{width:"100%",mt:"1%"},name:"password",label:"Password",type:ce?"text":"password",InputProps:{endAdornment:(0,z.jsx)(c.A,{position:"end",children:(0,z.jsx)(g.A,{onClick:()=>ge(!ce),edge:"end",children:!0===ce?(0,z.jsx)(N.A,{}):(0,z.jsx)(W.A,{})})})},value:e.password,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?(ne(!1),de("")):(ne(!0),de("Password is Required"))})(e),xs(e)}}),(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:le&&re}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async t=>{t.preventDefault();var s=(t=>{t.preventDefault();var s=!0;return e.email?L().isEmail(e.email)?(a(!1),ie(""),s=!0):(a(!0),ie("Invalid Email"),s=!1):(a(!0),ie("Email is Required"),s=!1),e.password&&hs.test(e.password)?(ne(!1),de(""),s=!0):(ne(!0),de("Password is Required"),s=!1),s})(t);if(s)try{const t=await E.A.httpPost("/api/admin/users/login",e);if(t&&200==t.status){let s;et(e.email),rt(t.recordList[0].refreshToken),ct(t.recordList[0].token),mt(t.recordList[0].id),s=t.recordList[0],pt(t.recordList[0]),localStorage.setItem("DefaultCurrency",JSON.stringify(t.recordList[0].defaultCurrency[0]));let a=JSON.parse(localStorage.getItem("isFirstLogin"));if(a=0!=a,"admin@admin.com"===e.email&&a)he(!1),Ie(!0),De(!1),Ne(!1),We(!1),_e(!1);else if("Demo@1234"===e.password&&a)he(!1),Ie(!1),De(!0),Ne(!1),We(!1),_e(!1);else if(s.isTwoFactorEnable)he(!1),Ie(!1),De(!1),We(!1),_e(!1),Ne(!0);else if(0==s.isTwoFactorEnable){localStorage.setItem("RefreshToken",t.recordList[0].refreshToken),localStorage.setItem("SessionToken",t.recordList[0].token),localStorage.setItem("UserId",t.recordList[0].id),localStorage.setItem("Credentials",JSON.stringify(t.recordList[0])),localStorage.setItem("DefaultCurrency",JSON.stringify(t.recordList[0].defaultCurrency[0])),localStorage.setItem("isFirstLogin",JSON.stringify(!1)),ys();const e=localStorage.getItem("SessionToken"),a=localStorage.getItem("RefreshToken");let o=await E.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},e,a);console.log(o.recordList);let i=o.recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",i);let l=o.recordList[0].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name)),n=o.recordList[0].systemFlag[l].value;localStorage.setItem("isUserProfilePicApprove",n);let r=o.recordList;if(r&&r.length>0)for(let t=0;t<r.length;t++){for(let e=0;e<r[t].group.length;e++)if(r[t].group[e].systemFlag&&r[t].group[e].systemFlag.length>0){let s=r[t].group[e].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(s>=0){let a=r[t].group[e].systemFlag[s].value;localStorage.setItem("isEnableCustomFields",a)}let a=r[t].group[e].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(a>=0){let s=r[t].group[e].systemFlag[a].value;localStorage.setItem("isUserProfilePicApprove",s)}let o=r[t].group[e].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(o>=0){let s=r[t].group[e].systemFlag[o].value;localStorage.setItem("isEnableFamilyDetails",s)}let i=r[t].group[e].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(i>=0){let s=r[t].group[e].systemFlag[i].value;localStorage.setItem("isEnableAstrologicDetails",s)}let l=r[t].group[e].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(l>=0){let s=r[t].group[e].systemFlag[l].value;localStorage.setItem("isEnableLifeStyles",s)}let n=r[t].group[e].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(n>=0){let s=r[t].group[e].systemFlag[n].value;localStorage.setItem("isEnableCommunity",s)}let d=r[t].group[e].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(d>=0){let s=r[t].group[e].systemFlag[d].value;localStorage.setItem("isEnableSubCommunity",s)}}if(r[t].systemFlag&&r[t].systemFlag.length>0){let e=r[t].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(e>=0){let s=r[t].systemFlag[e].value;localStorage.setItem("isEnableCustomFields",s)}let s=r[t].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(s>=0){let e=r[t].systemFlag[s].value;localStorage.setItem("isUserProfilePicApprove",e)}let a=r[t].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(a>=0){let e=r[t].systemFlag[a].value;localStorage.setItem("isEnableFamilyDetails",e)}let o=r[t].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(o>=0){let e=r[t].systemFlag[o].value;localStorage.setItem("isEnableAstrologicDetails",e)}let i=r[t].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(i>=0){let e=r[t].systemFlag[i].value;localStorage.setItem("isEnableLifeStyles",e)}let l=r[t].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(l>=0){let e=r[t].systemFlag[l].value;localStorage.setItem("isEnableCommunity",e)}let n=r[t].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(n>=0){let e=r[t].systemFlag[n].value;localStorage.setItem("isEnableCommunity",e)}}}if(3===s.roleId&&0===s.pagePermissions.length)pe("/admin/nopagepermission");else if(3===s.roleId&&s.pagePermissions.length>0){let e=s.pagePermissions.length-1,t=s.pagePermissions[e];pe(t.path)}else pe("/admin/dashboard")}else he(!1),Ie(!1),De(!1),Ne(!0),We(!1),_e(!1)}else t&&500==t.status?B.oR.error("User does not exists!",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"Password Mismatch"===t.message&&B.oR.error("Invalid Credentials!",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}catch(o){console.error(o)}history.go(1)},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"LOGIN"})}),(0,z.jsx)(u.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:1},children:(0,z.jsx)(P.N_,{to:"/forgotpassword",style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px"},children:"Forgot password?"})})]}),ve&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(R.A,{children:[(0,z.jsx)(n.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Change Default Email"}),(0,z.jsx)(r.A,{required:!0,type:"email",sx:{width:"100%",mt:3},name:"email",label:"Email",autoFocus:!0,value:ye.email,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s?L().isEmail(e.target.value)?(Ae(!1),be("")):(Ae(!0),be("Invalid Email")):(Ae(!0),be("Email is Required"))})(e),(e=>{const{name:t,value:s}=e.target;fe({...ye,[t]:s})})(e)}}),(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:Se&&je}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async e=>{e.preventDefault();try{const e=dt,t=await E.A.httpPost("/api/admin/users/updateEmail",{email:ye.email},e,nt);200===t.status?(et(ye.email),he(!1),Ie(!1),De(!0)):t&&401===t.status?pe("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),B.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Change Email"})}),(0,z.jsx)(u.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",sx:{my:1},children:(0,z.jsx)(p.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{he(!1),Ie(!1),De(!0)},children:"Skip"})})]})}),Ee&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(R.A,{children:[(0,z.jsx)(n.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Change Default Password"}),(0,z.jsx)(r.A,{required:!0,sx:{width:"100%",mt:"1%"},name:"password",label:"Password",type:Re?"text":"password",InputProps:{endAdornment:(0,z.jsx)(c.A,{position:"end",children:(0,z.jsx)(g.A,{onClick:()=>ke(!Re),edge:"end",children:!0===Re?(0,z.jsx)(N.A,{}):(0,z.jsx)(W.A,{})})})},value:Ce.password,onChange:e=>{(e=>{const{name:t,value:s}=e.target;s&&hs.test(e.target.value)?(Oe(!1),we("")):(Oe(!0),we("Password is Required"))})(e),(e=>{const{name:t,value:s}=e.target;Fe({...Ce,[t]:s})})(e)}}),(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:Pe&&Te}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async e=>{e.preventDefault();try{const e=dt,t=await E.A.httpPost("/api/admin/users/updatePassword",{password:Ce.password},e,nt);200===t.status?(localStorage.setItem("isFirstLogin",JSON.stringify(!1)),he(!1),Ie(!1),De(!1),Ne(!0),We(!1),_e(!1)):t&&401===t.status?pe("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),B.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Change Password"})}),(0,z.jsxs)(u.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",sx:{my:1},children:[(0,z.jsx)(p.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{he(!1),Ie(!0),De(!1)},children:"Back"}),(0,z.jsx)(p.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{localStorage.setItem("RefreshToken",nt),localStorage.setItem("SessionToken",dt),localStorage.setItem("UserId",gt),localStorage.setItem("Credentials",JSON.stringify(ut)),localStorage.setItem("isFirstLogin",JSON.stringify(!1)),ys();const t=dt;let s=await E.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},t,nt),a=s.recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",a);let o=s.recordList;if(o&&o.length>0)for(let i=0;i<o.length;i++){for(let e=0;e<o[i].group.length;e++)if(o[i].group[e].systemFlag&&o[i].group[e].systemFlag.length>0){let t=o[i].group[e].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(t>=0){let s=o[i].group[e].systemFlag[t].value;localStorage.setItem("isEnableCustomFields",s)}let s=o[i].group[e].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(s>=0){let t=o[i].group[e].systemFlag[s].value;localStorage.setItem("isUserProfilePicApprove",t)}let a=o[i].group[e].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(a>=0){let t=o[i].group[e].systemFlag[a].value;localStorage.setItem("isEnableFamilyDetails",t)}let l=o[i].group[e].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(l>=0){let t=o[i].group[e].systemFlag[l].value;localStorage.setItem("isEnableAstrologicDetails",t)}let n=o[i].group[e].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(n>=0){let t=o[i].group[e].systemFlag[n].value;localStorage.setItem("isEnableLifeStyles",t)}let r=o[i].group[e].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(r>=0){let t=o[i].group[e].systemFlag[r].value;localStorage.setItem("isEnableCommunity",t)}let d=o[i].group[e].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(d>=0){let t=o[i].group[e].systemFlag[d].value;localStorage.setItem("isEnableSubCommunity",t)}}if(o[i].systemFlag&&o[i].systemFlag.length>0){let e=o[i].systemFlag.findIndex((e=>"isEnableCustomFields"===e.name));if(e>=0){let t=o[i].systemFlag[e].value;localStorage.setItem("isEnableCustomFields",t)}let t=o[i].systemFlag.findIndex((e=>"isUserProfilePicApprove"===e.name));if(t>=0){let e=o[i].systemFlag[t].value;localStorage.setItem("isUserProfilePicApprove",e)}let s=o[i].systemFlag.findIndex((e=>"isEnableFamilyDetails"===e.name));if(s>=0){let e=o[i].systemFlag[s].value;localStorage.setItem("isEnableFamilyDetails",e)}let a=o[i].systemFlag.findIndex((e=>"isEnableAstrologicDetails"===e.name));if(a>=0){let e=o[i].systemFlag[a].value;localStorage.setItem("isEnableAstrologicDetails",e)}let l=o[i].systemFlag.findIndex((e=>"isEnableLifeStyles"===e.name));if(l>=0){let e=o[i].systemFlag[l].value;localStorage.setItem("isEnableLifeStyles",e)}let n=o[i].systemFlag.findIndex((e=>"isEnableCommunity"===e.name));if(n>=0){let e=o[i].systemFlag[n].value;localStorage.setItem("isEnableCommunity",e)}let r=o[i].systemFlag.findIndex((e=>"isEnableSubCommunity"===e.name));if(r>=0){let e=o[i].systemFlag[r].value;localStorage.setItem("isEnableCommunity",e)}}}3===ut.roleId&&0===ut.pagePermissions.length?pe("/admin/nopagepermission"):pe("/admin/dashboard")},children:"Skip"})]})]})}),Le&&(0,z.jsxs)(R.A,{children:[(0,z.jsx)(n.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Set Up Two-Factor Authentication"}),(0,z.jsx)(n.A,{noWrap:!0,style:{fontSize:"15px",fontWeight:"bold",marginBottom:"none"},children:"Send Authentication Code to your login Email"}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",disabled:"demo@admin.com"===(null===e||void 0===e?void 0:e.email),onClick:async e=>{e.preventDefault();try{const e=dt,t=await E.A.httpPost("/api/admin/users/generateOTP",{},e,nt);if(200===t.status){let e=ut;e.isTwoFactorEnable=1,pt(e),ft(t.recordList[0].otpAuthUrl),At(t.recordList[0].baseSecret),Ne(!1),We(!0),_e(!1)}else t&&401===t.status?pe("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),B.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Setup 2FA"})}),(0,z.jsxs)(u.A,{direction:"row",alignItems:"center",justifyContent:"space-evenly",sx:{my:1},children:[(0,z.jsx)(p.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{e.preventDefault();try{const e=dt,t=await E.A.httpPost("/api/admin/users/updateAuthenticationStatus",{isTwoFactorEnable:null},e,nt);if(200===t.status){localStorage.setItem("RefreshToken",nt),localStorage.setItem("SessionToken",dt),localStorage.setItem("UserId",gt),localStorage.setItem("Credentials",JSON.stringify(ut));let e=JSON.parse(localStorage.getItem("Credentials"));3===e.roleId&&0===e.pagePermissions.length?pe("/admin/nopagepermission"):pe("/admin/dashboard"),ys();const t=dt;let s=(await E.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},t,nt)).recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",s)}else t&&401===t.status?pe("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),B.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},children:"Remind me Later"}),"demo@admin.com"===(null===e||void 0===e?void 0:e.email)?(0,z.jsx)(z.Fragment,{children:"Skip For Now"}):(0,z.jsx)(p.A,{style:{color:"#5569ff",textDecoration:"none",justifyContent:"flex-end",fontSize:"15px",cursor:"pointer"},onClick:async e=>{e.preventDefault();try{const e=dt,t=await E.A.httpPost("/api/admin/users/updateAuthenticationStatus",{isTwoFactorEnable:!1},e,nt);if(200===t.status){localStorage.setItem("RefreshToken",nt),localStorage.setItem("SessionToken",dt),localStorage.setItem("UserId",gt),localStorage.setItem("Credentials",JSON.stringify(ut));let e=JSON.parse(localStorage.getItem("Credentials"));3===e.roleId&&0===e.pagePermissions.length?pe("/admin/nopagepermission"):pe("/admin/dashboard"),ys();const t=dt;let s=(await E.A.httpPost("/api/admin/systemflags/getAdminSystemFlag",{},t,nt)).recordList[0].systemFlag[0].value;localStorage.setItem("DateFormat",s)}else t&&401===t.status?pe("/admin"):(500==t.status||400==t.status||300==t.status||404==t.status)&&B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}catch(t){console.log(t),B.oR.error(t,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})}},children:"Skip For Now"})]})]}),He&&(0,z.jsxs)(R.A,{children:[(0,z.jsx)(n.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Two-Factor Authentication"}),(0,z.jsx)("h4",{className:oe.heading4,children:"Configuring Google Authenticator or Authy"}),(0,z.jsxs)("div",{className:oe.orderedList,children:[(0,z.jsx)("li",{children:"Install Google Authenticator (IOS - Android) or Authy (IOS - Android)."}),(0,z.jsx)("li",{children:'In the authenticator app, select "+" icon.'}),(0,z.jsx)("li",{children:'Select "Scan a barcode (or QR code)" and use the phone\'s camera to scan this barcode.'})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:oe.heading4,children:"Scan QR Code"}),(0,z.jsx)("div",{className:"flex justify-center",children:(0,z.jsx)(Y.Ay,{value:yt})})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:oe.heading4,children:"Or Enter Code Into Your App"}),(0,z.jsxs)("p",{className:"text-sm",children:["SecretKey: ",St," (Base32 encoded)"]})]}),(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"twoFactorCode",label:"Authentication Code",autoFocus:!0,value:it.twoFactorCode,onChange:e=>{fs(e),Ss(e)}}),(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:tt&&at}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:As,style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Authenticate"})})]}),Be&&(0,z.jsxs)(R.A,{children:[(0,z.jsx)(n.A,{className:"mb-3",align:"center",fontSize:"25px",fontWeight:"bolder",children:"Two-Factor Authentication"}),(0,z.jsx)(n.A,{noWrap:!0,style:{fontSize:"15px",fontWeight:"bold",marginBottom:"none"},children:"Enter Authentication Code"}),(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"twoFactorCode",label:"Authentication Code",autoFocus:!0,value:it.twoFactorCode,onChange:e=>{fs(e),Ss(e)}}),(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:tt&&at}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:As,style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Authenticate"})})]})]})})]})}),(Me||Ve)&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{style:{textAlign:"center",marginTop:"40px"},children:(0,z.jsx)("img",{src:"/admin/Image20221010173301.png",height:"50",alt:"logo"})}),(0,z.jsx)(n.A,{sx:{textAlign:"center",fontSize:"36px",marginTop:"11px",fontWeight:"600",marginBottom:"20px",color:"#596bfa"},children:"Welcome to Matrimony Configuration"}),(0,z.jsx)(n.A,{sx:{textAlign:"center",fontSize:"12px",fontWeight:"600px",marginBottom:"20px"},children:"Please follow below steps to setup"}),(0,z.jsxs)(T.A,{children:[(0,z.jsx)(w.A,{md:3,lg:3,xs:12}),(0,z.jsx)(w.A,{md:6,lg:6,xs:12,children:(0,z.jsx)(i.A,{sx:{padding:"10px",marginTop:"10px",margin:"auto",minHeight:"calc(100vh - 240px)",position:"relative",paddingBottom:"80px"},children:(0,z.jsx)(T.A,{children:(0,z.jsx)(w.A,{md:12,lg:12,xs:12,children:(0,z.jsxs)(o.A,{sx:{width:"100%"},children:[(0,z.jsx)(q.A,{activeStep:Cs,style:{margin:"0px auto 30px auto"},children:X.map(((e,t)=>{const s={};return Ts(t)&&(s.completed=!1),(0,z.jsx)(Q.A,{...s,children:(0,z.jsx)(G.A,{children:e})},e)}))}),Cs===X.length?(0,z.jsxs)(k.Fragment,{children:[(0,z.jsx)(n.A,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),(0,z.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",pt:2},children:[(0,z.jsx)(o.A,{sx:{flex:"1 1 auto"}}),(0,z.jsx)(m.A,{onClick:()=>{Fs(0)},children:"Reset"})]})]}):(0,z.jsxs)(k.Fragment,{children:[0==Cs&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R.A,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%"},name:"MYSQL_HOST",label:"Host Name",autoFocus:!0,value:Ke.MYSQL_HOST,onChange:e=>{vs(e)}}),qt&&(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:"HostName is required"}),(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"MYSQL_USER",label:"User Name",autoFocus:!0,value:Ke.MYSQL_USER,onChange:e=>{vs(e)}}),Gt&&(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:"UserName is required"}),(0,z.jsx)(r.A,{required:!0,type:ce?"text":"password",sx:{width:"100%",mt:3},name:"MYSQL_PASSWORD",label:"Password",autoFocus:!0,value:Ke.MYSQL_PASSWORD,onChange:e=>{vs(e)},InputProps:{endAdornment:(0,z.jsx)(c.A,{position:"end",children:(0,z.jsx)(g.A,{onClick:()=>ge(!ce),edge:"end",children:!0===ce?(0,z.jsx)(N.A,{}):(0,z.jsx)(W.A,{})})})}}),(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"MYSQL_PORT",label:"PORT",autoFocus:!0,value:Ke.MYSQL_PORT,onChange:e=>{vs(e)}}),Vt&&(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:"PORT is required"})]})}),(0,z.jsxs)("div",{style:{position:"absolute",bottom:"20px",width:"96%",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[(0,z.jsx)(m.A,{fullWidth:!0,type:"button",variant:"contained",onClick:async e=>{if(Ke.MYSQL_HOST||Qt(!0),Ke.MYSQL_USER||Jt(!0),Ke.MYSQL_PORT){Qt(!1),Xt(!1),Jt(!1),Zt(!1),ue(!0),e.preventDefault();const t=await E.A.httpPost("/api/admin/configuration/testConnection",Ke);200===t.status?(he(!0),Ze(!1),bt(!0),ue(!1),ls(t.recordList)):t&&401==t.status?(ue(!1),B.oR.error("Invalid Code",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT})):(500==t.status||400==t.status||300==t.status||404==t.status)&&(ue(!1),B.oR.error(t.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT}))}else Zt(!0)},style:{fontWeight:"bolder"},disabled:jt&&!me,children:(0,z.jsxs)("div",{children:[!jt&&!me&&"Test Connection",me&&"Testing",jt&&!me&&"Connection Established"]})}),(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",style:{fontWeight:"bolder"},disabled:!jt,onClick:async()=>{Fs(1)},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Save & Next"})})]})]}),1==Cs&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(R.A,{onSubmit:Is,children:[(0,z.jsx)(x.A,{id:"demo-radio-buttons-group-label",sx:{display:"inline-block"},children:"Previous version Installed?"}),(0,z.jsxs)(h.A,{row:!0,"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",children:[(0,z.jsx)(y.A,{name:"previousVersionInstalled",value:"true",checked:"true"===Mt,onChange:e=>{js(e)},control:(0,z.jsx)(f.A,{}),label:"Yes",sx:{display:"inline-block"}}),(0,z.jsx)(y.A,{name:"previousVersionInstalled",value:"false",checked:"false"===Mt,onChange:e=>{js(e)},control:(0,z.jsx)(f.A,{}),label:"No",sx:{display:"inline-block"}})]}),"true"==Mt&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(S.A,{id:"demo-multiple-name-label",style:{margin:"8px 0px 10px 0px"},children:["Select Version Installed",(0,z.jsx)(A.A,{title:"Please Select version carefully",children:(0,z.jsx)(J.A,{sx:{"font-size":"16px!important",display:"inline"}})})]}),(0,z.jsxs)(j.A,{sx:{width:"100%",display:"inline"},children:[(0,z.jsxs)(b.A,{labelId:"demo-multiple-name-label",id:"demo-multiple-name",multiple:!1,name:"version",onChange:async e=>{It(e.target.value)},required:!0,label:"Select Version",style:{width:"100%"},children:[(0,z.jsx)(v.A,{value:"1.0",children:"v1.0"}),(0,z.jsx)(v.A,{value:"1.1",children:"v1.1"}),(0,z.jsx)(v.A,{value:"1.2",children:"v1.2"}),(0,z.jsx)(v.A,{value:"1.3",children:"v1.3"}),(0,z.jsx)(v.A,{value:"1.4",children:"v1.4"}),(0,z.jsx)(v.A,{value:"1.5",children:"v1.5"})]}),$t&&(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:"'Version is required'"})]})]}),"false"==Mt&&(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"MYSQL_DATABASE",label:"Database Name",autoFocus:!0,value:Ke.MYSQL_DATABASE,onChange:e=>{vs(e)}}),"true"==Mt&&(0,z.jsx)("div",{style:{marginTop:"20px"},children:(0,z.jsx)(n.A,{sx:{color:"red",fontWeight:"bold"},children:"Note: Please first take backup of your database"})}),"false"==Mt&&(0,z.jsxs)("div",{style:{marginTop:"10px",borderBottom:"1px solid #ddd"},children:[(0,z.jsx)(I.A,{onChange:e=>{rs(e.target.checked)},inputProps:{"aria-label":"controlled"},style:{padding:"9px 0px"}}),"Do you want to create database user?"]}),ns&&"false"==Mt&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.A,{required:!0,type:"text",sx:{width:"100%",mt:3},name:"username",label:"UserName",autoFocus:!0,value:Ke.username,onChange:e=>{vs(e)}}),(0,z.jsx)(r.A,{required:!0,type:ce?"text":"password",sx:{width:"100%",mt:3},name:"password",label:"Password",autoFocus:!0,value:Ke.password,onChange:e=>{vs(e)},InputProps:{endAdornment:(0,z.jsx)(c.A,{position:"end",children:(0,z.jsx)(g.A,{onClick:()=>ge(!ce),edge:"end",children:!0===ce?(0,z.jsx)(N.A,{}):(0,z.jsx)(W.A,{})})})}}),(0,z.jsx)(m.A,{fullWidth:!0,type:"button",variant:"contained",onClick:()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let s=0;s<8;s++){t+=e[Math.floor(62*Math.random())]}Xe({...Ke,password:t})},style:{fontWeight:"bolder",marginTop:"5%",width:"50%"},children:"Generate Random Password"})]}),"false"==Mt?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{style:{marginTop:"10px"},children:[(0,z.jsx)(I.A,{onChange:ws,inputProps:{"aria-label":"controlled"},style:{padding:"9px 0px"}}),"Install Master Data"]}),"false"==Mt&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(I.A,{onChange:Rs,style:{padding:"9px 0px"},inputProps:{"aria-label":"controlled"},disabled:!Pt}),"Install Sample Data"]})]}):(0,z.jsx)(z.Fragment,{children:is&&is.length>0?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(S.A,{id:"demo-multiple-name-label",style:{margin:"8px 0px 10px 0px"},children:["Select Databse",(0,z.jsx)(A.A,{title:"Please Select version carefully",children:(0,z.jsx)(J.A,{sx:{"font-size":"16px!important",display:"inline"}})})]}),(0,z.jsxs)(j.A,{sx:{width:"100%",display:"inline"},children:[(0,z.jsx)(b.A,{labelId:"demo-multiple-name-label",id:"demo-multiple-dataabse",multiple:!1,name:"MYSQL_DATABASE",onChange:e=>{vs(e)},required:!0,label:"Select Database",style:{width:"100%"},children:is.map(((e,t)=>(0,z.jsx)(v.A,{value:e.Database,children:e.Database},e.Database)))}),ts&&(0,z.jsx)(d.A,{style:{color:"red",height:"22px"},children:"'Database is required'"})]}),(0,z.jsxs)("div",{style:{marginTop:"10px"},children:[(0,z.jsx)(I.A,{onChange:ws,inputProps:{"aria-label":"controlled"},style:{padding:"9px 0px"}}),"Install MasterData"]}),"false"==Mt&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(I.A,{onChange:Rs,style:{padding:"9px 0px"},inputProps:{"aria-label":"controlled"},disabled:!Pt}),"Install SampleData"]})]}):(0,z.jsx)(n.A,{sx:{color:"red",marginTop:"20px",marginBottom:"20px"},children:"No Database Found with your MYSQL Server Configuration Please Go back and again configure with your server"})})]}),(0,z.jsxs)("div",{style:{position:"absolute",bottom:"20px",width:"96%",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",disabled:!Ke.MYSQL_DATABASE,onClick:Is,style:{fontWeight:"bolder",marginTop:"1%"},children:(0,z.jsx)("div",{children:me?(0,z.jsx)(U,{title:"Loading..."}):"Save & Configure"})}),(0,z.jsx)(m.A,{fullWidth:!0,color:"inherit",onClick:()=>{Fs(1===Cs?0:1)},sx:{mr:1},variant:"outlined",children:"Back"})]})]}),2==Cs&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.A,{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[!Ct&&(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(n.A,{style:{marginBottom:"10px"},children:"Please wait while we are installing the database"})}),(0,z.jsxs)(n.A,{children:["creating"===Et?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(C.A,{thickness:1,style:{height:"18px",width:"18px",marginRight:"20px"}}),"Creating Database..."]})}):(0,z.jsx)(z.Fragment,{children:Rt&&"created"===Et?(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(V.A,{style:{color:"#78b144",marginRight:"10px"}}),"Database Created"]}):(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(Z.A,{style:{color:"red",marginRight:"10px"}}),"Error in database creation"]})}),Pt&&(0,z.jsx)(z.Fragment,{children:"creating"===Lt&&"Error"!==Et?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(C.A,{thickness:1,style:{height:"18px",width:"18px",marginRight:"20px"}}),"Installing MasterData..."]})}):(0,z.jsx)(z.Fragment,{children:Pt&&Bt?(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(V.A,{style:{color:"#78b144",marginRight:"10px"}}),"MasterData Installed"]}):(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(Z.A,{style:{color:"red",marginRight:"10px"}}),"Error in installing Masterdata"]})})}),Tt&&(0,z.jsx)(z.Fragment,{children:"creating"===Ht&&"Error"!==Et?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(C.A,{thickness:1,style:{height:"18px",width:"18px",marginRight:"20px"}}),"Installing SampleData..."]})}):(0,z.jsx)(z.Fragment,{children:Tt&&as?(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(V.A,{style:{color:"#78b144",marginRight:"10px"}}),"SampleData Installed"]}):(0,z.jsxs)(n.A,{style:{margin:"10px 5px",fontSize:"18px"},children:[(0,z.jsx)(Z.A,{style:{color:"red",marginRight:"10px"}}),"Error in installing SampleData"]})})})]}),"Error"===Et&&(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async()=>{Fs(1),kt(!1),Ft(!0),ue(!1),bt(!1)},style:{fontWeight:"bolder",marginTop:"2%",width:"15%"},children:"Back"}),Ct&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(n.A,{style:{fontSize:"42px",textAlign:"center",fontWeight:"900",marginTop:"10px",color:"#78b144"},children:"Congratulations!"}),(0,z.jsx)(n.A,{style:{fontSize:"17px",textAlign:"center",fontWeight:"600",margin:"40px 0px"},children:"Your configuration process has been successfully completed. Below are your credentials. We appreciate your cooperation in this matter and look forward to your continued success with our services."}),(0,z.jsx)(n.A,{style:{fontSize:"19px",textAlign:"center",fontWeight:"600",marginTop:"10px",color:"red"},children:"Please restart API(Nodejs APP) - Check documentation"}),!vt&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(o.A,{style:{border:"1px solid #ddd",marginTop:"20px",padding:"8px",width:"300px"},children:[(0,z.jsx)(m.A,{type:"button",variant:"contained",style:{fontWeight:"bolder",width:"15%",float:"right",right:"-10px",top:"-10px",padding:"3px",minWidth:"0px"},onClick:()=>{const e="UserName:"+this.userName+"\nPassword:"+this.password;navigator.clipboard.writeText(e).then((()=>{alert("Text copied to clipboard!")})).catch((e=>{console.error("Failed to copy text: ",e)}))},children:(0,z.jsx)(H.A,{})}),(0,z.jsxs)(n.A,{style:{fontSize:"14px",marginTop:"10px"},children:["Username : ",gs]}),(0,z.jsxs)(n.A,{style:{fontSize:"14px"},children:["Password: ",us]})]})}),(0,z.jsx)("div",{style:{position:"absolute",bottom:"20px",width:"96%",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:(0,z.jsx)(m.A,{fullWidth:!0,type:"submit",variant:"contained",onClick:async()=>{const e=await E.A.httpPost("/api/admin/configuration/restartConnection",Ke);200===e.status&&(0==e.recordList?(B.oR.warning("Please restart your API server before loggin in.",{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:B.oR.POSITION.TOP_RIGHT}),cs(!0)):(cs(!1),he(!0),ze(!1),vt||t({email:gs,password:us})))},style:{fontWeight:"bolder",marginTop:"5%"},children:"Go To Login"})})]})]})})]})]})})})})}),(0,z.jsx)(w.A,{md:3,lg:3,xs:12})]})]})]})]})]})}},28957:()=>{}}]);
//# sourceMappingURL=1475.eeeebc87.chunk.js.map