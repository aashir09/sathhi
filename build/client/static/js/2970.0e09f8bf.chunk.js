"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[2970],{24146:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(34535),r=a(96446),n=a(19252),o=a(70579);const i=(0,s.Ay)(r.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,o.jsx)(i,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(n.A,{maxWidth:"lg",children:t})})}},98:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(70579);const r=e=>{const{title:t}=e;return(0,s.jsx)("div",{className:"spinner-container",children:(0,s.jsx)("div",{className:"loading-spinner"})})}},52970:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var s=a(29490),r=a(24146),n=a(33639),o=(a(8740),a(73216)),i=a(35475),l=a(65043),d=a(34535),c=a(83462),u=a(26600),g=a(17392),h=a(26240),m=a(96446),x=a(68903),p=a(88911),A=a(22698),j=a(85865),b=a(53193),v=a(18356),y=a(93088),S=a(91449),f=a(67784),P=a(51787),k=a(19252),C=a(12110),I=a(39336),R=a(79650),O=a(71806),w=a(84882),N=a(28076),T=a(10039),W=a(73460),H=a(11906),z=a(92598),D=a(63336),M=a(35316),B=a(81673),F=a(11633),U=a(66360),E=a(47503),_=a(98),G=a(69525),L=a(74802),J=a(70579);const Z=(0,d.Ay)(c.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},"& .MuiPaper-root":{height:"300px"}}}));function $(e){const{children:t,onClose:a,...s}=e;return(0,J.jsxs)(u.A,{sx:{m:0,p:2,fontSize:"18px",fontWeight:"bold"},...s,children:[t,a?(0,J.jsx)(g.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:13,top:13,color:e=>e.palette.grey[500]},children:(0,J.jsx)(L.A,{})}):null]})}const q=()=>{const e=(0,o.Zp)(),[t,a]=((0,h.A)(),(0,l.useState)(0)),[d,c]=(0,l.useState)(10),[u,g]=(0,l.useState)(10),[L,q]=(0,l.useState)(!1);let[K,Q]=(0,l.useState)(""),[V,X]=(0,l.useState)(),[Y,ee]=(0,l.useState)();const[te,ae]=(0,l.useState)([]),[se,re]=(0,l.useState)(["All","Success","Pending","Failed"]),[ne,oe]=(0,l.useState)(["All","Active","Override","Upcomming","Expired"]);let[ie,le]=(0,l.useState)();const[de,ce]=(0,l.useState)(""),[ue,ge]=(0,l.useState)();let[he,me]=(0,l.useState)(""),[xe,pe]=(0,l.useState)("");const[Ae,je]=(0,l.useState)(!1),[be,ve]=(0,l.useState)(!0),[ye,Se]=(0,l.useState)(!0),[fe,Pe]=(0,l.useState)(!0),[ke,Ce]=(0,l.useState)(!0);(0,l.useEffect)((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(le(e),e)if(1!=e.roleId){let a=e.pagePermissions.findIndex((e=>"Block Users"===e.title));a>=0&&(ve(e.pagePermissions[a].isReadPermission),Se(e.pagePermissions[a].isAddPermission),Pe(e.pagePermissions[a].isEditPermission),Ce(e.pagePermissions[a].isDeletePermission),e.pagePermissions[a].isReadPermission&&Re(t,d))}else Re(t,d)}),[]);const Ie=localStorage.getItem("DateFormat"),Re=async(t,a)=>{try{q(!0);const s=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let n={startIndex:t,fetchRecord:a,userId:V,paymentStatus:he||null,packageStatus:xe||null,searchString:K||null};const o=await F.A.httpPost("/api/admin/appUsers/getUserPackages",n,s,r);o&&200==o.status?(ae(o.recordList),g(o.totalRecords)):401==o.status?(localStorage.clear(),e("/admin")):(500==o.status||400==o.status||300==o.status||404==o.status)&&E.oR.error(o.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT}),q(!1)}catch(s){q(!1),E.oR.error(s,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT})}},Oe=async()=>{je(!1)};return(0,J.jsxs)("div",{children:[(0,J.jsx)(E.N9,{style:{top:"8.5%",right:"0%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,J.jsx)(s.mg,{children:(0,J.jsx)("title",{children:"User Packages"})}),(0,J.jsx)(r.A,{children:(0,J.jsx)(m.A,{p:1,children:(0,J.jsxs)(x.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,J.jsx)(x.Ay,{item:!0,children:(0,J.jsx)(p.A,{alignItems:"left",justifyContent:"space-between",children:(0,J.jsxs)(A.A,{"aria-label":"breadcrumb",children:[(0,J.jsx)(i.N_,{to:"/admin",style:{display:"flex",color:"black"},children:(0,J.jsx)(n.A,{})}),(0,J.jsx)(j.A,{variant:"subtitle2",color:"inherit",fontWeight:"bold",children:"User Packages"})]})})}),(0,J.jsx)(x.Ay,{item:!0,children:(0,J.jsxs)(x.Ay,{container:!0,spacing:1.5,children:[(0,J.jsx)(x.Ay,{item:!0,children:(0,J.jsxs)(b.A,{sx:{minWidth:150,mt:{xs:0,md:0}},size:"small",children:[(0,J.jsx)(v.A,{htmlFor:"demo-customized-select-label",children:"Payment Status"}),(0,J.jsx)(y.A,{labelId:"demo-customized-select-label",id:"demo-customized-select",name:"data",value:he,label:"Payment Status",onChange:e=>{const{name:a,value:s}=e.target;me(s),he=s,Re(t,d)},children:se.map(((e,t)=>(0,J.jsx)(S.A,{value:e,children:e},t)))})]})}),(0,J.jsx)(x.Ay,{item:!0,children:(0,J.jsxs)(b.A,{sx:{minWidth:150,mt:{xs:0,md:0}},size:"small",children:[(0,J.jsx)(v.A,{htmlFor:"demo-customized-select-label1",children:"Package Status"}),(0,J.jsx)(y.A,{labelId:"demo-customized-select-label1",id:"demo-customized-select",name:"data",value:xe,label:"Payment Status",onChange:e=>{const{name:a,value:s}=e.target;pe(s),xe=s,Re(t,d)},children:ne.map(((e,t)=>(0,J.jsx)(S.A,{value:e,children:e},t)))})]})}),(0,J.jsx)(x.Ay,{item:!0,children:(0,J.jsx)(b.A,{sx:{mt:{xs:.3,md:.3,lg:.3,sm:.3}},children:(0,J.jsx)(f.A,{id:"outlined-basic",label:"Search",variant:"outlined",name:"searchString",value:K,onChange:e=>(e=>{Q(e.target.value),K=e.target.value,Re(t,d)})(e),size:"small",InputProps:{startAdornment:(0,J.jsx)(P.A,{position:"start",children:(0,J.jsx)(U.A,{})})}})})})]})})]})})}),(0,J.jsx)(k.A,{maxWidth:"lg",children:(0,J.jsxs)(C.A,{className:"religioncard",children:[(0,J.jsx)("div",{children:L?(0,J.jsx)(_.A,{title:"Loading..."}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(I.A,{}),te&&te.length?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(R.A,{className:"religiontableContainer",children:(0,J.jsxs)(O.A,{stickyHeader:!0,children:[(0,J.jsx)(w.A,{children:(0,J.jsxs)(N.A,{children:[(0,J.jsx)(T.A,{children:"Sr. NO "}),(0,J.jsx)(T.A,{children:"User "}),(0,J.jsx)(T.A,{children:"Package "}),(0,J.jsx)(T.A,{children:"Start Date "}),(0,J.jsx)(T.A,{children:"End Date "}),(0,J.jsx)(T.A,{children:"Amount "}),(0,J.jsx)(T.A,{children:"Status "}),(0,J.jsxs)(T.A,{align:"right",children:["Action"," "]})]})}),(0,J.jsx)(W.A,{children:te.map(((e,a)=>(0,J.jsxs)(N.A,{children:[(0,J.jsx)(T.A,{children:(0,J.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t*d+a+1})}),(0,J.jsx)(T.A,{align:"left",children:(0,J.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.firstName?e.firstName+" "+e.lastName+(e.contactNo?"("+e.contactNo+")":""):"--"})}),(0,J.jsx)(T.A,{align:"left",children:(0,J.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.packageName?e.packageName+"("+e.value+" Month)":"--"})}),(0,J.jsx)(T.A,{align:"left",children:(0,J.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.startDate?(0,G.default)(new Date(e.startDate),Ie):""})}),(0,J.jsx)(T.A,{align:"left",children:(0,J.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.endDate?(0,G.default)(new Date(e.endDate),Ie):""})}),(0,J.jsx)(T.A,{align:"right",children:(0,J.jsxs)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:["\u20b9",e.netAmount]})}),(0,J.jsx)(T.A,{align:"right",children:(0,J.jsxs)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:["Override"===e.status&&(0,J.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#919eab",borderRadius:"5px"},children:e.status}),"Active"===e.status&&(0,J.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#53bc5b",borderRadius:"5px"},children:e.status}),"Upcomming"===e.status&&(0,J.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#1565c0",borderRadius:"5px"},children:e.status}),"Expired"===e.status&&(0,J.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#e20700",borderRadius:"5px"},children:e.status}),"Pending"===e.status&&(0,J.jsx)(j.A,{sx:{color:"white",textAlign:"center",backgroundColor:"#fc7b2a",borderRadius:"5px"},children:e.status})]})}),(0,J.jsx)(T.A,{align:"right",children:fe?(0,J.jsx)(j.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:"Pending"==e.status?(0,J.jsx)(H.A,{style:{textAlign:"right"},variant:"outlined",size:"small",onClick:t=>{(async(e,t)=>{ge(e),ee(t),je(!0)})(e,e.userId)},children:"Active Package"}):(0,J.jsx)(J.Fragment,{})}):(0,J.jsx)(J.Fragment,{})})]},e.id)))})]})}),(0,J.jsx)(m.A,{p:2,children:(0,J.jsx)(z.A,{component:"div",count:u,onPageChange:(e,t)=>{a(t),Re(t*d,d)},onRowsPerPageChange:e=>{c(parseInt(e.target.value)),a(0),Re(0,parseInt(e.target.value))},page:t,rowsPerPage:d,rowsPerPageOptions:[10,20,30,40]})})]}):(0,J.jsx)(D.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none",height:"calc(100vh - 453px)"},children:(0,J.jsx)(j.A,{variant:"h5",paragraph:!0,children:"Data not Found"})})]})}),(0,J.jsx)("div",{children:(0,J.jsxs)(Z,{open:Ae,onClose:Oe,PaperProps:{sx:{height:"40%"}},fullWidth:!0,maxWidth:"md",children:[(0,J.jsx)($,{id:"customized-dialog-title",onClose:Oe,children:"Active Dialog"}),(0,J.jsx)(M.A,{dividers:!0,children:(0,J.jsx)(f.A,{autoFocus:!0,margin:"dense",id:"name",label:"Payment Refererence No",type:"text",fullWidth:!0,variant:"outlined",name:"name",value:de,onChange:e=>{(e=>{const{name:t,value:a}=e.target;ce(a)})(e)}})}),(0,J.jsxs)(m.A,{sx:{display:"flex",justifyContent:"space-between",p:"8px"},children:[(0,J.jsx)(B.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px"}}),(0,J.jsxs)("div",{children:[(0,J.jsx)(H.A,{onClick:Oe,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,J.jsx)(H.A,{disabled:"demo@admin.com"===(null===ie||void 0===ie?void 0:ie.email),onClick:async()=>{try{q(!0);const a=localStorage.getItem("SessionToken"),s=localStorage.getItem("RefreshToken");let r={packageId:ue.id,paymentId:ue.paymentId,packageDurationId:ue.packageDurationId,userId:Y};const n=await F.A.httpPost("/api/admin/appUsers/activeUserPackage",r,a,s);n&&200==n.status?(Oe(),Re(t*d,d)):401==n.status?(localStorage.clear(),e("/admin")):(500==n.status||400==n.status||300==n.status||404==n.status)&&E.oR.error(n.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT}),q(!1)}catch(a){q(!1),E.oR.error(a,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:E.oR.POSITION.TOP_RIGHT})}},variant:"outlined",style:{marginRight:"10px"},children:"Aproved"})]})]})]})})]})})]})}},74802:(e,t,a)=>{var s=a(24994);t.A=void 0;var r=s(a(40039)),n=a(70579),o=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.A=o},66360:(e,t,a)=>{var s=a(24994);t.A=void 0;var r=s(a(40039)),n=a(70579),o=(0,r.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.A=o},84882:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(58168),r=a(98587),n=a(65043),o=a(69292),i=a(98610),l=a(21573),d=a(98206),c=a(34535),u=a(92532),g=a(72372);function h(e){return(0,g.Ay)("MuiTableHead",e)}(0,u.A)("MuiTableHead",["root"]);var m=a(70579);const x=["className","component"],p=(0,c.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},j="thead",b=n.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiTableHead"}),{className:n,component:c=j}=a,u=(0,r.A)(a,x),g=(0,s.A)({},a,{component:c}),b=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},h,t)})(g);return(0,m.jsx)(l.A.Provider,{value:A,children:(0,m.jsx)(p,(0,s.A)({as:c,className:(0,o.A)(b.root,n),ref:t,role:c===j?null:"rowgroup",ownerState:g},u))})}))},71806:(e,t,a)=>{a.d(t,{A:()=>j});var s=a(98587),r=a(58168),n=a(65043),o=a(69292),i=a(98610),l=a(41009),d=a(98206),c=a(34535),u=a(92532),g=a(72372);function h(e){return(0,g.Ay)("MuiTable",e)}(0,u.A)("MuiTable",["root","stickyHeader"]);var m=a(70579);const x=["className","component","padding","size","stickyHeader"],p=(0,c.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:a}=e;return(0,r.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,r.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})})),A="table",j=n.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiTable"}),{className:c,component:u=A,padding:g="normal",size:j="medium",stickyHeader:b=!1}=a,v=(0,s.A)(a,x),y=(0,r.A)({},a,{component:u,padding:g,size:j,stickyHeader:b}),S=(e=>{const{classes:t,stickyHeader:a}=e,s={root:["root",a&&"stickyHeader"]};return(0,i.A)(s,h,t)})(y),f=n.useMemo((()=>({padding:g,size:j,stickyHeader:b})),[g,j,b]);return(0,m.jsx)(l.A.Provider,{value:f,children:(0,m.jsx)(p,(0,r.A)({as:u,role:u===A?null:"table",ref:t,className:(0,o.A)(S.root,c),ownerState:y},v))})}))},8740:()=>{}}]);
//# sourceMappingURL=2970.0e09f8bf.chunk.js.map