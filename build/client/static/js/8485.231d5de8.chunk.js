"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[8485],{24146:(e,t,s)=>{s.d(t,{A:()=>l});var i=s(34535),a=s(96446),r=s(19252),o=s(70579);const n=(0,i.Ay)(a.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,o.jsx)(n,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(r.A,{maxWidth:"lg",children:t})})}},94786:(e,t,s)=>{s.d(t,{A:()=>a});s(65043);var i=s(70579);const a=e=>{const{title:t}=e;return(0,i.jsx)("div",{className:"spinner-container",children:(0,i.jsx)("div",{className:"loading-spinner"})})}},78485:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var i=s(26240),a=s(96446),r=s(68903),o=s(88911),n=s(22698),l=s(85865),d=s(19252),c=s(12110),m=s(79650),u=s(71806),h=s(84882),g=s(28076),p=s(10039),x=s(73460),A=s(69392),v=s(4598),j=s(17392),y=s(92598),b=s(63336),S=s(83462),P=s(26600),f=s(35316),C=s(98533),k=s(29347),O=s(11906),R=s(67784),I=s(81673),T=s(65043),w=s(33639),H=s(26688),F=s(74802),N=s(29490),W=s(24146),B=s(73216),z=s(35475),M=s(11633),_=s(94786),G=s(47503),D=(s(92342),s(8740),s(70579));const E={id:0,name:""},L=()=>{const[e,t]=(0,T.useState)(0),[s,L]=(0,T.useState)(10),[q,U]=(0,T.useState)(10),[Y,Z]=(0,T.useState)(!1),[$,J]=(0,T.useState)(!1),[K,Q]=(0,T.useState)(!1),[V,X]=(0,T.useState)(!1),[ee,te]=(0,T.useState)([]),[se,ie]=(0,T.useState)(E),[ae,re]=(0,T.useState)(!1),[oe,ne]=(0,T.useState)(""),[le,de]=(0,T.useState)(!1),[ce,me]=(0,T.useState)(!1),[ue,he]=(0,T.useState)("");let[ge,pe]=(0,T.useState)();const[xe,Ae]=(0,T.useState)(!0),[ve,je]=(0,T.useState)(!0),[ye,be]=(0,T.useState)(!0),[Se,Pe]=(0,T.useState)(!0),fe=(0,B.Zp)();(0,T.useEffect)((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(pe(e),e)if(1!=e.roleId){let t=e.pagePermissions.findIndex((e=>"Block Users"===e.title));t>=0&&(Ae(e.pagePermissions[t].isReadPermission),je(e.pagePermissions[t].isAddPermission),be(e.pagePermissions[t].isEditPermission),Pe(e.pagePermissions[t].isDeletePermission),e.pagePermissions[t].isReadPermission&&Ce())}else Ce()}),[]);const Ce=async()=>{Oe(e,s)},ke=new RegExp(/^[a-zA-Z_ ]+$/),Oe=async(e,t)=>{Z(!0);try{const s=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={startIndex:e,fetchRecord:t};const r=await M.A.httpPost("/api/admin/premiumFacility/getPremiumFacility",a,s,i);te(r.recordList),U(r.totalRecords),r&&200===r.status||(r&&401===r.status?(localStorage.clear(),fe("/admin")):(500==r.status||400==r.status||300==r.status||404==r.status)&&(Q(!1),G.oR.error(r.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT})))}catch(s){console.log(s),Q(!1),G.oR.error(s,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT}),Z(!1)}Z(!1)},Re=()=>{J(!1),Q(!1),X(!1)},Ie=(0,i.A)();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(G.N9,{style:{top:"8.5%",right:"0%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,D.jsx)(N.mg,{children:(0,D.jsx)("title",{children:"Facilities"})}),(0,D.jsx)(W.A,{children:(0,D.jsx)(a.A,{pt:1.1,pb:1.1,pl:1,children:(0,D.jsx)(r.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,D.jsx)(r.Ay,{item:!0,children:(0,D.jsx)(o.A,{alignItems:"left",justifyContent:"space-between",children:(0,D.jsxs)(n.A,{"aria-label":"breadcrumb",children:[(0,D.jsx)(z.N_,{to:"/admin",style:{display:"flex",color:"black"},children:(0,D.jsx)(w.A,{})}),(0,D.jsx)(l.A,{variant:"subtitle2",color:"inherit",fontWeight:"bold",children:"Facilities"})]})})})})})}),(0,D.jsx)(d.A,{maxWidth:"lg",children:(0,D.jsx)(r.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,D.jsx)(r.Ay,{item:!0,xs:12,children:(0,D.jsx)(c.A,{style:{height:"calc(100vh - 228px)"},children:(0,D.jsx)("div",{children:Y?(0,D.jsx)(_.A,{title:"Loading..."}):(0,D.jsx)(D.Fragment,{children:ee&&ee.length>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(m.A,{className:"premiumFacilitytableContainer",style:{height:"calc(100vh - 305px)"},children:(0,D.jsxs)(u.A,{stickyHeader:!0,children:[(0,D.jsx)(h.A,{children:(0,D.jsxs)(g.A,{children:[(0,D.jsx)(p.A,{children:"Sr. NO"}),(0,D.jsx)(p.A,{align:"left",children:"Name"}),(0,D.jsx)(p.A,{align:"right",children:"Actions"})]})}),(0,D.jsx)(x.A,{children:ee.map(((t,i)=>(0,D.jsxs)(g.A,{hover:!0,children:[(0,D.jsx)(p.A,{children:(0,D.jsx)(l.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e*s+i+1})}),(0,D.jsx)(p.A,{children:(0,D.jsx)(l.A,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.name})}),(0,D.jsx)(p.A,{align:"right",children:ye?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(A.A,{title:0===t.isActive?"Inactive":"Active",arrow:!0,children:(0,D.jsx)(v.A,{disabled:"demo@admin.com"===(null===ge||void 0===ge?void 0:ge.email),checked:0!==t.isActive,onClick:e=>{return s=t.id,i=t.isActive,ie({id:s,status:i}),void J(!0);var s,i},inputProps:{"aria-label":"controlled"}})}),(0,D.jsx)(A.A,{title:"Edit ",arrow:!0,children:(0,D.jsx)(j.A,{sx:{"&:hover":{background:Ie.colors.error.lighter},color:Ie.palette.primary.main},color:"inherit",size:"small",disabled:"demo@admin.com"===(null===ge||void 0===ge?void 0:ge.email),onClick:e=>{return s=t.id,i=t.name,ie({id:s,name:i}),Q(!0),me(!1),he(""),re(!1),void ne("");var s,i},children:(0,D.jsx)(H.A,{fontSize:"small"})})})]}):(0,D.jsx)(D.Fragment,{})})]},t.id)))})]})}),(0,D.jsx)(a.A,{p:2,children:(0,D.jsx)(y.A,{component:"div",count:q,onPageChange:(e,i)=>{t(i),Oe(i*s,s)},onRowsPerPageChange:e=>{L(parseInt(e.target.value)),t(0),Oe(0,parseInt(e.target.value))},page:e,rowsPerPage:s,rowsPerPageOptions:[10,20,30,40]})})]}):(0,D.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none",height:"calc(100vh - 305px)"},children:(0,D.jsx)(l.A,{variant:"h5",paragraph:!0,children:"Data not Found"})})})})})})})}),(0,D.jsx)("div",{children:(0,D.jsxs)(S.A,{open:$,onClose:Re,fullWidth:!0,maxWidth:"xs",children:[(0,D.jsx)(P.A,{sx:{m:0,p:2,fontSize:"20px",fontWeight:"bolder"},children:0===se.status?"Inactive":"Active"}),(0,D.jsx)(f.A,{children:(0,D.jsx)(C.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em"},children:0===se.status?"Are you sure you want to Active?":"Are you sure you want to Inactive?"})}),(0,D.jsxs)(k.A,{children:[(0,D.jsx)(O.A,{onClick:Re,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,D.jsx)(O.A,{disabled:"demo@admin.com"===(null===ge||void 0===ge?void 0:ge.email),onClick:async()=>{const t=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={id:se.id};const r=await M.A.httpPost("/api/admin/premiumFacility/activeInactivePremiumFacility",a,t,i);r&&200===r.status&&G.oR.error(r.recordList,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),J(!1),Oe(e*s,s)},variant:"outlined",style:{marginRight:"10px"},children:"Yes"})]})]})}),(0,D.jsx)("div",{children:(0,D.jsxs)(S.A,{open:V,onClose:Re,fullWidth:!0,maxWidth:"xs",children:[(0,D.jsx)(P.A,{sx:{m:0,p:2,fontSize:"20px",fontWeight:"bolder"},children:"Delete"}),(0,D.jsx)(f.A,{children:(0,D.jsx)(C.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em"},children:"Are you sure you want to Delete?"})}),(0,D.jsxs)(k.A,{children:[(0,D.jsx)(O.A,{onClick:Re,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,D.jsx)(O.A,{disabled:"demo@admin.com"===(null===ge||void 0===ge?void 0:ge.email),onClick:async()=>{const t=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={id:se.id};const r=await M.A.httpPost("/api/admin/premiumFacility/deletePremiumFacility",a,t,i);r&&200===r.status&&G.oR.error(r.recordList,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),X(!1),Oe(e*s,s)},variant:"outlined",style:{marginRight:"10px"},children:"Yes"})]})]})}),(0,D.jsx)("div",{children:(0,D.jsxs)(S.A,{open:K,onClose:Re,PaperProps:{sx:{height:"40%"}},fullWidth:!0,maxWidth:"xs",children:[(0,D.jsxs)(P.A,{sx:{m:0,p:2,fontSize:"18px",fontWeight:"bold"},children:[se.id?"Edit Facility ":"Add Facility ",(0,D.jsx)(j.A,{"aria-label":"close",onClick:Re,sx:{position:"absolute",right:13,top:13,color:e=>e.palette.grey[500]},children:(0,D.jsx)(F.A,{})})]}),(0,D.jsxs)(f.A,{dividers:!0,children:[(0,D.jsx)(R.A,{autoFocus:!0,margin:"dense",id:"name",label:"Facility ",type:"text",fullWidth:!0,variant:"outlined",name:"name",value:se.name,onChange:e=>{(e=>{const{name:t,value:s}=e.target;ie({...se,[t]:s}),Q(!0),re(!1),ne("")})(e),(e=>{const{name:t,value:s}=e.target;s?ke.test(e.target.value)?(me(!1),he("")):(me(!0),he("Alphabet and space allowed")):(me(!0),he("Premium facility is required"))})(e)},required:!0}),(0,D.jsx)(I.A,{style:{color:"red",height:"22px"},children:ce&&ue})]}),(0,D.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",p:"8px"},children:[(0,D.jsx)(I.A,{style:{color:"red",height:"22px",margin:"none",padding:"8px"},children:ae&&oe}),(0,D.jsxs)(l.A,{children:[(0,D.jsx)(O.A,{disabled:"demo@admin.com"===(null===ge||void 0===ge?void 0:ge.email),onClick:Re,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,D.jsx)(O.A,{disabled:"demo@admin.com"===(null===ge||void 0===ge?void 0:ge.email),onClick:async i=>{let a=(e=>{e.preventDefault();var t=!0;return se.name?ke.test(se.name)?(me(!1),he(""),t=!0):(me(!0),he("Alphabet and space allowed"),t=!1):(me(!0),he("Premium facility is required"),t=!1),t})(i);try{if(a)if(se.id){const t=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken");let a={id:se.id,name:se.name};const r=await M.A.httpPost("/api/admin/premiumFacility/insertUpdatePremiumFacility",a,t,i);r&&200===r.status?(Q(!1),Oe(e*s,s)):r&&401===r.status?(fe("/admin"),localStorage.clear()):r&&400===r.status?(Q(!1),G.oR.error(r.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT})):r&&203===r.status?(re(!0),ne(r.message)):(500==r.status||300==r.status||404==r.status)&&(Q(!1),G.oR.error(r.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT}))}else{const e=localStorage.getItem("SessionToken"),i=localStorage.getItem("RefreshToken"),a=await M.A.httpPost("/api/admin/premiumFacility/insertUpdatePremiumFacility",se,e,i);a&&200==a.status?(Oe(0,s),t(0),Q(!1)):401==a.status?(fe("/admin"),localStorage.clear()):a&&400===a.status?(Q(!1),G.oR.error(a.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT})):a&&203===a.status?(re(!0),ne(a.message)):(500==a.status||300==a.status||404==a.status)&&(Q(!1),G.oR.error(a.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT}))}}catch(r){Q(!1),G.oR.error(r,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:G.oR.POSITION.TOP_RIGHT})}},variant:"outlined",style:{marginRight:"10px"},children:"Save"})]})]})]})})]})}},84882:(e,t,s)=>{s.d(t,{A:()=>j});var i=s(58168),a=s(98587),r=s(65043),o=s(69292),n=s(98610),l=s(21573),d=s(98206),c=s(34535),m=s(92532),u=s(72372);function h(e){return(0,u.Ay)("MuiTableHead",e)}(0,m.A)("MuiTableHead",["root"]);var g=s(70579);const p=["className","component"],x=(0,c.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),A={variant:"head"},v="thead",j=r.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiTableHead"}),{className:r,component:c=v}=s,m=(0,a.A)(s,p),u=(0,i.A)({},s,{component:c}),j=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},h,t)})(u);return(0,g.jsx)(l.A.Provider,{value:A,children:(0,g.jsx)(x,(0,i.A)({as:c,className:(0,o.A)(j.root,r),ref:t,role:c===v?null:"rowgroup",ownerState:u},m))})}))},71806:(e,t,s)=>{s.d(t,{A:()=>v});var i=s(98587),a=s(58168),r=s(65043),o=s(69292),n=s(98610),l=s(41009),d=s(98206),c=s(34535),m=s(92532),u=s(72372);function h(e){return(0,u.Ay)("MuiTable",e)}(0,m.A)("MuiTable",["root","stickyHeader"]);var g=s(70579);const p=["className","component","padding","size","stickyHeader"],x=(0,c.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:s}=e;return(0,a.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,a.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},s.stickyHeader&&{borderCollapse:"separate"})})),A="table",v=r.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiTable"}),{className:c,component:m=A,padding:u="normal",size:v="medium",stickyHeader:j=!1}=s,y=(0,i.A)(s,p),b=(0,a.A)({},s,{component:m,padding:u,size:v,stickyHeader:j}),S=(e=>{const{classes:t,stickyHeader:s}=e,i={root:["root",s&&"stickyHeader"]};return(0,n.A)(i,h,t)})(b),P=r.useMemo((()=>({padding:u,size:v,stickyHeader:j})),[u,v,j]);return(0,g.jsx)(l.A.Provider,{value:P,children:(0,g.jsx)(x,(0,a.A)({as:m,role:m===A?null:"table",ref:t,className:(0,o.A)(S.root,c),ownerState:b},y))})}))},8740:()=>{}}]);
//# sourceMappingURL=8485.231d5de8.chunk.js.map