"use strict";(self.webpackChunkmatrimony=self.webpackChunkmatrimony||[]).push([[3348],{21566:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(34535),r=s(70579);const a=(0,n.Ay)("span")((e=>{let{theme:t}=e;return`\n      background-color: ${t.colors.alpha.black[5]};\n      padding: ${t.spacing(.5,1)};\n      font-size: ${t.typography.pxToRem(13)};\n      border-radius: ${t.general.borderRadius};\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ${t.spacing(3)};\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ${t.colors.primary.lighter};\n          color: ${t.palette.primary.main}\n        }\n\n        &-black {\n          background-color: ${t.colors.alpha.black[100]};\n          color: ${t.colors.alpha.white[100]};\n        }\n        \n        &-secondary {\n          background-color: ${t.colors.secondary.lighter};\n          color: ${t.palette.secondary.main}\n        }\n        \n        &-success {\n          background-color: ${t.colors.success.lighter};\n          color: ${t.palette.success.main}\n        }\n        \n        &-warning {\n          background-color: ${t.colors.warning.lighter};\n          color: ${t.palette.warning.main}\n        }\n              \n        &-error {\n          background-color: ${t.colors.error.lighter};\n          color: ${t.palette.error.main}\n        }\n        \n        &-info {\n          background-color: ${t.colors.info.lighter};\n          color: ${t.palette.info.main}\n        }\n      }\n`})),o=e=>{let{className:t,color:s="secondary",children:n,...o}=e;return(0,r.jsx)(a,{className:"MuiLabel-"+s,...o,children:n})}},24146:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(34535),r=s(96446),a=s(19252),o=s(70579);const i=(0,n.Ay)(r.A)((e=>{let{theme:t}=e;return`\n        padding: ${t.spacing(1)};\n`})),l=e=>{let{children:t}=e;return(0,o.jsx)(i,{className:"MuiPageTitle-wrapper",children:(0,o.jsx)(a.A,{maxWidth:"lg",children:t})})}},53348:(e,t,s)=>{s.r(t),s.d(t,{default:()=>H});var n=s(29490),r=s(24146),a=s(34535),o=s(83462),i=s(26240),l=s(96446),c=s(68903),d=s(88911),u=s(22698),g=s(85865),h=s(19252),p=s(12110),m=s(79650),x=s(73460),y=s(28076),f=s(10039),A=s(11906),j=s(43845),b=s(63336),S=s(26600),v=s(35316),C=s(98533),$=s(29347),k=s(33639),R=s(73216),P=s(35475),w=s(65043),I=s(11633),T=s(47503),O=(s(92342),s(8740),s(25884),s(98139)),N=s.n(O),D=s(67852),M=s(70579);const W=w.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,striped:r,bordered:a,borderless:o,hover:i,size:l,variant:c,responsive:d,...u}=e;const g=(0,D.oU)(s,"table"),h=N()(n,g,c&&`${g}-${c}`,l&&`${g}-${l}`,r&&`${g}-${"string"===typeof r?`striped-${r}`:"striped"}`,a&&`${g}-bordered`,o&&`${g}-borderless`,i&&`${g}-hover`),p=(0,M.jsx)("table",{...u,className:h,ref:t});if(d){let e=`${g}-responsive`;return"string"===typeof d&&(e=`${e}-${d}`),(0,M.jsx)("div",{className:e,children:p})}return p}));var F=s(21566);(0,a.Ay)(o.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)},"& .MuiPaper-root":{height:"600px"}}}));const z={id:0,name:"",code:"",symbol:"",value:0,isDefault:null},H=()=>{const e=(0,R.Zp)(),[t,s]=((0,i.A)(),(0,w.useState)(0)),[a,O]=(0,w.useState)(10),[N,D]=(0,w.useState)(10),[H,B]=w.useState(z),[G,L]=w.useState(!1),[_,E]=(0,w.useState)(!1),[J,U]=(0,w.useState)(!1);let[Y,Z]=(0,w.useState)("");const[q,K]=w.useState([]);let[Q,V]=(0,w.useState)(),[X,ee]=(0,w.useState)();const[te,se]=(0,w.useState)(!0),[ne,re]=(0,w.useState)(!0),[ae,oe]=(0,w.useState)(!0),[ie,le]=(0,w.useState)(!0);(0,w.useEffect)((()=>{let e=JSON.parse(localStorage.getItem("Credentials"));if(V(e),e)if(1!=e.roleId){let t=e.pagePermissions.findIndex((e=>"Block Users"===e.title));t>=0&&(se(e.pagePermissions[t].isReadPermission),re(e.pagePermissions[t].isAddPermission),oe(e.pagePermissions[t].isEditPermission),le(e.pagePermissions[t].isDeletePermission),e.pagePermissions[t].isReadPermission&&ce())}else ce()}),[]);const ce=async()=>{await de(t,a),L(!1)},de=async(t,s)=>{try{if(Y){const e=localStorage.getItem("SessionToken"),n=localStorage.getItem("RefreshToken");let r={startIndex:t,fetchRecord:s,isActive:null,searchString:Y||""};const a=await I.A.httpPost("/api/admin/currencies/getCurrencies",r,e,n);K(a.recordList),D(a.totalRecords)}else{E(!0);const n=localStorage.getItem("SessionToken"),r=localStorage.getItem("RefreshToken");let a={startIndex:t,fetchRecord:s,isActive:null};const o=await I.A.httpPost("/api/admin/currencies/getCurrencies",a,n,r);K(o.recordList),D(o.totalRecords),o&&200==o.status?L(!1):401==o.status?(e("/admin"),localStorage.clear()):(500==o.status||300==o.status||400==o.status||404==o.status)&&(L(!1),T.oR.error(o.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:T.oR.POSITION.TOP_RIGHT})),E(!1)}}catch(n){E(!1),L(!1),T.oR.error(n,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:T.oR.POSITION.TOP_RIGHT})}},ue=()=>{U(!1)};return(0,M.jsxs)("div",{children:[(0,M.jsx)(T.N9,{style:{top:"8.5%",right:"0%"},autoClose:6e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,M.jsx)(n.mg,{children:(0,M.jsx)("title",{children:"Currency"})}),(0,M.jsx)(r.A,{children:(0,M.jsx)(l.A,{pt:1.1,pb:1.1,pl:1,children:(0,M.jsx)(c.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,M.jsx)(c.Ay,{item:!0,children:(0,M.jsx)(d.A,{alignItems:"left",justifyContent:"space-between",children:(0,M.jsxs)(u.A,{"aria-label":"breadcrumb",children:[(0,M.jsx)(P.N_,{to:"/admin",style:{display:"flex",color:"black"},children:(0,M.jsx)(k.A,{})}),(0,M.jsx)(g.A,{variant:"subtitle2",color:"inherit",fontWeight:"bold",children:"Currency"})]})})})})})}),(0,M.jsx)(h.A,{maxWidth:"lg",children:(0,M.jsx)(c.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,M.jsx)(c.Ay,{item:!0,xs:12,children:(0,M.jsx)(p.A,{style:{height:"calc(100vh - 228px)"},children:(0,M.jsx)(l.A,{sx:{width:"100%",typography:"body1"},children:q&&q.length>0?(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(m.A,{className:"premiumAccounttableContainer",children:(0,M.jsx)(W,{children:(0,M.jsx)(x.A,{children:q.map(((e,t)=>(0,M.jsx)(y.A,{hover:!0,children:(0,M.jsx)(f.A,{children:(0,M.jsxs)(c.Ay,{sx:{py:2,px:1},children:[(0,M.jsxs)(c.Ay,{container:!0,justifyContent:"space-between",children:[(0,M.jsx)(c.Ay,{item:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,M.jsx)(g.A,{sx:{fontSize:"17px",fontWeight:"bold",textTransform:"capitalize",color:"#495fff",paddingRight:"10px",display:"block"},children:`${e.name} (${e.symbol} : ${e.code})`})}),(0,M.jsx)(c.Ay,{item:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:ae?(0,M.jsx)(M.Fragment,{children:0==e.isDefault?(0,M.jsx)(A.A,{style:{padding:"5px 14px",width:"150px"},variant:"contained",onClick:t=>(async(e,t,s)=>{B({id:e,status:t}),ee(s),U(!0)})(e.id,0===e.isDefault?0:1,e),disabled:"demo@admin.com"===(null===Q||void 0===Q?void 0:Q.email),children:"Set as Default"}):(0,M.jsx)("div",{style:{textTransform:"uppercase",fontWeight:"bold"},children:(0,M.jsx)(F.A,{color:"success",children:"Default Currency"})})}):(0,M.jsx)(M.Fragment,{})})]}),(0,M.jsx)(g.A,{style:{display:"flex",flexWrap:"wrap",paddingBottom:"0px"},children:e.paymentGateways.map((t=>(0,M.jsx)(g.A,{style:{paddingRight:"1.4%",paddingTop:"1.4%"},children:(0,M.jsx)(j.A,{label:t.paymentGateway,children:e.name})},t.id)))})]})})},e.id)))})})})}):(0,M.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",boxShadow:"none"},className:"premiumAccounttableContainer",children:(0,M.jsx)(g.A,{variant:"h5",paragraph:!0,children:"Data not Found"})})})})})})}),(0,M.jsx)("div",{children:(0,M.jsx)(o.A,{open:J,onClose:ue,fullWidth:!0,maxWidth:"xs",children:0==H.status?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(S.A,{sx:{m:0,p:1,fontSize:"20px",fontWeight:"bolder"},children:"Set Default"}),(0,M.jsx)(v.A,{children:(0,M.jsx)(C.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em"},children:"Are you sure you want to set as default currency?"})}),(0,M.jsxs)($.A,{children:[(0,M.jsx)(A.A,{onClick:ue,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"}),(0,M.jsx)(A.A,{disabled:"demo@admin.com"===(null===Q||void 0===Q?void 0:Q.email),onClick:async()=>{const s=localStorage.getItem("SessionToken"),n=localStorage.getItem("RefreshToken");let r={id:H.id,isDefault:!H.status};const o=await I.A.httpPost("/api/admin/currencies/setDefaultCurrency",r,s,n);U(!1),de(t*a,a),console.log(X),o&&200==o.status?(localStorage.setItem("DefaultCurrency",JSON.stringify(X)),L(!1)):401==o.status?(e("/admin"),localStorage.clear()):(500==o.status||300==o.status||400==o.status||404==o.status)&&(L(!1),T.oR.error(o.message,{autoClose:6e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",position:T.oR.POSITION.TOP_RIGHT}))},variant:"outlined",style:{marginRight:"10px"},children:"Yes"})]})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(v.A,{sx:{mt:2,pb:1},children:(0,M.jsx)(C.A,{style:{fontSize:"1rem",letterSpacing:"0.00938em",marginTop:"1"},children:"There must be one currency set as default"})}),(0,M.jsx)($.A,{children:(0,M.jsx)(A.A,{onClick:ue,variant:"outlined",style:{marginRight:"10px"},children:"Cancel"})})]})})}),(0,M.jsx)("div",{})]})}},98533:(e,t,s)=>{s.d(t,{A:()=>f});var n=s(98587),r=s(58168),a=s(65043),o=s(69292),i=s(98610),l=s(34535),c=s(61475),d=s(98206),u=s(85865),g=s(92532),h=s(72372);function p(e){return(0,h.Ay)("MuiDialogContentText",e)}(0,g.A)("MuiDialogContentText",["root"]);var m=s(70579);const x=["children","className"],y=(0,l.Ay)(u.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),f=a.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiDialogContentText"}),{className:a}=s,l=(0,n.A)(s,x),c=(e=>{const{classes:t}=e,s=(0,i.A)({root:["root"]},p,t);return(0,r.A)({},t,s)})(l);return(0,m.jsx)(y,(0,r.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:l,className:(0,o.A)(c.root,a)},s,{classes:c}))}))},25884:()=>{},8740:()=>{}}]);
//# sourceMappingURL=3348.1533c10b.chunk.js.map